#ifdef CHASTE_CVODE
//! @file
//! 
//! This source file was generated from CellML.
//! 
//! Model: luo_rudy_1994
//! 
//! Processed by pycml - CellML Tools in Python
//!     (translators: , pycml: , optimize: )
//! on Tue Feb 18 17:12:20 2020
//! 
//! <autogenerated>

#include "luo_rudy_1994.hpp"
#include <cmath>
#include <cassert>
#include <memory>
#include "Exception.hpp"
#include "OdeSystemInformation.hpp"
#include "RegularStimulus.hpp"
#include "HeartConfig.hpp"
#include "IsNan.hpp"
#include "MathsCustomFunctions.hpp"

    boost::shared_ptr<RegularStimulus> Dynamicluo_rudy_1994FromCellMLCvode::UseCellMLDefaultStimulus()
    {
        // Use the default stimulus specified by CellML metadata
        const double var_chaste_interface__membrane__stimPeriod = 1000.0; // millisecond
        const double var_chaste_interface__membrane__stimDuration = 0.5; // millisecond
        const double var_membrane__stimCurrent = 0.5; // uA_per_mm2
        const double var_chaste_interface__membrane__stimCurrent_converter = var_membrane__stimCurrent; // uA_per_mm2
        const double var_chaste_interface__membrane__stimCurrent = 100.0 * var_chaste_interface__membrane__stimCurrent_converter; // uA_per_cm2
        boost::shared_ptr<RegularStimulus> p_cellml_stim(new RegularStimulus(
                -fabs(var_chaste_interface__membrane__stimCurrent),
                var_chaste_interface__membrane__stimDuration,
                var_chaste_interface__membrane__stimPeriod,
                0.0
                ));
        mpIntracellularStimulus = p_cellml_stim;
        return p_cellml_stim;
    }
    
    double Dynamicluo_rudy_1994FromCellMLCvode::GetIntracellularCalciumConcentration()
    {
        return NV_Ith_S(mStateVariables, 1);
    }
    
    Dynamicluo_rudy_1994FromCellMLCvode::Dynamicluo_rudy_1994FromCellMLCvode(boost::shared_ptr<AbstractIvpOdeSolver> pOdeSolver /* unused; should be empty */, boost::shared_ptr<AbstractStimulusFunction> pIntracellularStimulus)
        : AbstractCvodeCell(
                pOdeSolver,
                12,
                0,
                pIntracellularStimulus)
    {
        // Time units: millisecond
        // 
        this->mpSystemInfo = OdeSystemInformation<Dynamicluo_rudy_1994FromCellMLCvode>::Instance();
        Init();

        // We have a default stimulus specified in the CellML file metadata
        this->mHasDefaultStimulusFromCellML = true;
        mUseAnalyticJacobian = true;
        mHasAnalyticJacobian = true;
    }
    
    Dynamicluo_rudy_1994FromCellMLCvode::~Dynamicluo_rudy_1994FromCellMLCvode()
    {
    }
    
    double Dynamicluo_rudy_1994FromCellMLCvode::GetIIonic(const std::vector<double>* pStateVariables)
    {
        // For state variable interpolation (SVI) we read in interpolated state variables,
        // otherwise for ionic current interpolation (ICI) we use the state variables of this model (node).
        N_Vector rY;
        bool made_new_cvode_vector = false;
        if (!pStateVariables)
        {
            rY = rGetStateVariables();
        }
        else
        {
            made_new_cvode_vector = true;
            rY = MakeNVector(*pStateVariables);
        }
        
        double var_chaste_interface__membrane__V = (mSetVoltageDerivativeToZero ? this->mFixedVoltage : NV_Ith_S(rY, 0));
        // Units: millivolt; Initial value: -84.624
        double var_chaste_interface__ionic_concentrations__Cai = NV_Ith_S(rY, 1);
        // Units: millimolar; Initial value: 0.12e-3
        double var_chaste_interface__fast_sodium_current_m_gate__m = NV_Ith_S(rY, 2);
        // Units: dimensionless; Initial value: 0.0
        double var_chaste_interface__fast_sodium_current_h_gate__h = NV_Ith_S(rY, 3);
        // Units: dimensionless; Initial value: 1.0
        double var_chaste_interface__fast_sodium_current_j_gate__j = NV_Ith_S(rY, 4);
        // Units: dimensionless; Initial value: 1.0
        double var_chaste_interface__L_type_Ca_channel_d_gate__d = NV_Ith_S(rY, 5);
        // Units: dimensionless; Initial value: 0.0
        double var_chaste_interface__L_type_Ca_channel_f_gate__f = NV_Ith_S(rY, 6);
        // Units: dimensionless; Initial value: 1.0
        double var_chaste_interface__time_dependent_potassium_current_X_gate__X = NV_Ith_S(rY, 7);
        // Units: dimensionless; Initial value: 0.0
        double var_chaste_interface__ionic_concentrations__Nai = NV_Ith_S(rY, 8);
        // Units: mM; Initial value: 10.0
        double var_chaste_interface__ionic_concentrations__Ki = NV_Ith_S(rY, 9);
        // Units: mM; Initial value: 145.0
        
        const double var_membrane__R = 8314.5; // gas_constant_units
        const double var_membrane__T = 310.0; // kelvin
        const double var_membrane__F = 96845.0; // faradays_constant_units
        const double var_fast_sodium_current__j = var_chaste_interface__fast_sodium_current_j_gate__j; // dimensionless
        const double var_fast_sodium_current__h = var_chaste_interface__fast_sodium_current_h_gate__h; // dimensionless
        const double var_fast_sodium_current__g_Na = 0.16; // mS_per_mm2
        const double var_fast_sodium_current__m = var_chaste_interface__fast_sodium_current_m_gate__m; // dimensionless
        const double var_fast_sodium_current__V = var_chaste_interface__membrane__V; // mV
        const double var_fast_sodium_current__R = var_membrane__R; // gas_constant_units
        const double var_fast_sodium_current__F = var_membrane__F; // faradays_constant_units
        const double var_ionic_concentrations__Nao = 140.0; // mM
        const double var_fast_sodium_current__Nao = var_ionic_concentrations__Nao; // mM
        const double var_fast_sodium_current__Nai = var_chaste_interface__ionic_concentrations__Nai; // mM
        const double var_fast_sodium_current__T = var_membrane__T; // kelvin
        const double var_fast_sodium_current__E_Na = ((var_fast_sodium_current__R * var_fast_sodium_current__T) / var_fast_sodium_current__F) * log(var_fast_sodium_current__Nao / var_fast_sodium_current__Nai); // mV
        const double var_fast_sodium_current__i_Na = var_fast_sodium_current__g_Na * pow(var_fast_sodium_current__m, 3.0) * var_fast_sodium_current__h * var_fast_sodium_current__j * (var_fast_sodium_current__V - var_fast_sodium_current__E_Na); // uA_per_mm2
        const double var_L_type_Ca_channel__d = var_chaste_interface__L_type_Ca_channel_d_gate__d; // dimensionless
        const double var_L_type_Ca_channel__f = var_chaste_interface__L_type_Ca_channel_f_gate__f; // dimensionless
        const double var_L_type_Ca_channel_f_Ca_gate__Km_Ca = 0.00059999999999999995; // mM
        const double var_L_type_Ca_channel__Cai = var_chaste_interface__ionic_concentrations__Cai; // mM
        const double var_L_type_Ca_channel_f_Ca_gate__Cai = var_L_type_Ca_channel__Cai; // mM
        const double var_L_type_Ca_channel_f_Ca_gate__f_Ca = 1.0 / (1.0 + pow(var_L_type_Ca_channel_f_Ca_gate__Cai / var_L_type_Ca_channel_f_Ca_gate__Km_Ca, 2.0)); // dimensionless
        const double var_L_type_Ca_channel__f_Ca = var_L_type_Ca_channel_f_Ca_gate__f_Ca; // dimensionless
        const double var_L_type_Ca_channel__gamma_Cai = 1.0; // dimensionless
        const double var_L_type_Ca_channel__gamma_Cao = 0.34000000000000002; // dimensionless
        const double var_ionic_concentrations__Cao = 1.8; // mM
        const double var_L_type_Ca_channel__Cao = var_ionic_concentrations__Cao; // mM
        const double var_L_type_Ca_channel__F = var_membrane__F; // faradays_constant_units
        const double var_L_type_Ca_channel__P_Ca = 5.4e-06; // mm_per_ms
        const double var_L_type_Ca_channel__T = var_membrane__T; // kelvin
        const double var_L_type_Ca_channel__V = var_chaste_interface__membrane__V; // mV
        const double var_L_type_Ca_channel__R = var_membrane__R; // gas_constant_units
        const double var_L_type_Ca_channel__I_CaCa = var_L_type_Ca_channel__P_Ca * pow(2.0, 2.0) * ((var_L_type_Ca_channel__V * pow(var_L_type_Ca_channel__F, 2.0)) / (var_L_type_Ca_channel__R * var_L_type_Ca_channel__T)) * (((var_L_type_Ca_channel__gamma_Cai * var_L_type_Ca_channel__Cai * exp((2.0 * var_L_type_Ca_channel__V * var_L_type_Ca_channel__F) / (var_L_type_Ca_channel__R * var_L_type_Ca_channel__T))) - (var_L_type_Ca_channel__gamma_Cao * var_L_type_Ca_channel__Cao)) / (exp((2.0 * var_L_type_Ca_channel__V * var_L_type_Ca_channel__F) / (var_L_type_Ca_channel__R * var_L_type_Ca_channel__T)) - 1.0)); // uA_per_mm2
        const double var_L_type_Ca_channel__i_CaCa = var_L_type_Ca_channel__d * var_L_type_Ca_channel__f * var_L_type_Ca_channel__f_Ca * var_L_type_Ca_channel__I_CaCa; // uA_per_mm2
        const double var_L_type_Ca_channel__P_Na = 6.7500000000000001e-09; // mm_per_ms
        const double var_L_type_Ca_channel__gamma_Nao = 0.75; // dimensionless
        const double var_L_type_Ca_channel__Nao = var_ionic_concentrations__Nao; // mM
        const double var_L_type_Ca_channel__Nai = var_chaste_interface__ionic_concentrations__Nai; // mM
        const double var_L_type_Ca_channel__gamma_Nai = 0.75; // dimensionless
        const double var_L_type_Ca_channel__I_CaNa = var_L_type_Ca_channel__P_Na * pow(1.0, 2.0) * ((var_L_type_Ca_channel__V * pow(var_L_type_Ca_channel__F, 2.0)) / (var_L_type_Ca_channel__R * var_L_type_Ca_channel__T)) * (((var_L_type_Ca_channel__gamma_Nai * var_L_type_Ca_channel__Nai * exp((1.0 * var_L_type_Ca_channel__V * var_L_type_Ca_channel__F) / (var_L_type_Ca_channel__R * var_L_type_Ca_channel__T))) - (var_L_type_Ca_channel__gamma_Nao * var_L_type_Ca_channel__Nao)) / (exp((1.0 * var_L_type_Ca_channel__V * var_L_type_Ca_channel__F) / (var_L_type_Ca_channel__R * var_L_type_Ca_channel__T)) - 1.0)); // uA_per_mm2
        const double var_L_type_Ca_channel__i_CaNa = var_L_type_Ca_channel__d * var_L_type_Ca_channel__f * var_L_type_Ca_channel__f_Ca * var_L_type_Ca_channel__I_CaNa; // uA_per_mm2
        const double var_ionic_concentrations__Ko = 5.4000000000000004; // mM
        const double var_L_type_Ca_channel__Ko = var_ionic_concentrations__Ko; // mM
        const double var_L_type_Ca_channel__Ki = var_chaste_interface__ionic_concentrations__Ki; // mM
        const double var_L_type_Ca_channel__P_K = 1.9300000000000002e-09; // mm_per_ms
        const double var_L_type_Ca_channel__gamma_Ki = 0.75; // dimensionless
        const double var_L_type_Ca_channel__gamma_Ko = 0.75; // dimensionless
        const double var_L_type_Ca_channel__I_CaK = var_L_type_Ca_channel__P_K * pow(1.0, 2.0) * ((var_L_type_Ca_channel__V * pow(var_L_type_Ca_channel__F, 2.0)) / (var_L_type_Ca_channel__R * var_L_type_Ca_channel__T)) * (((var_L_type_Ca_channel__gamma_Ki * var_L_type_Ca_channel__Ki * exp((1.0 * var_L_type_Ca_channel__V * var_L_type_Ca_channel__F) / (var_L_type_Ca_channel__R * var_L_type_Ca_channel__T))) - (var_L_type_Ca_channel__gamma_Ko * var_L_type_Ca_channel__Ko)) / (exp((1.0 * var_L_type_Ca_channel__V * var_L_type_Ca_channel__F) / (var_L_type_Ca_channel__R * var_L_type_Ca_channel__T)) - 1.0)); // uA_per_mm2
        const double var_L_type_Ca_channel__i_CaK = var_L_type_Ca_channel__d * var_L_type_Ca_channel__f * var_L_type_Ca_channel__f_Ca * var_L_type_Ca_channel__I_CaK; // uA_per_mm2
        const double var_L_type_Ca_channel__i_Ca_L = var_L_type_Ca_channel__i_CaCa + var_L_type_Ca_channel__i_CaK + var_L_type_Ca_channel__i_CaNa; // uA_per_mm2
        const double var_sarcolemmal_calcium_pump__I_pCa = 0.0115; // uA_per_mm2
        const double var_sarcolemmal_calcium_pump__Cai = var_chaste_interface__ionic_concentrations__Cai; // mM
        const double var_sarcolemmal_calcium_pump__K_mpCa = 0.00050000000000000001; // mM
        const double var_sarcolemmal_calcium_pump__i_p_Ca = var_sarcolemmal_calcium_pump__I_pCa * (var_sarcolemmal_calcium_pump__Cai / (var_sarcolemmal_calcium_pump__K_mpCa + var_sarcolemmal_calcium_pump__Cai)); // uA_per_mm2
        const double var_sodium_background_current__g_Nab = 1.4100000000000001e-05; // mS_per_mm2
        const double var_sodium_background_current__V = var_chaste_interface__membrane__V; // mV
        const double var_sodium_background_current__E_Na = var_fast_sodium_current__E_Na; // mV
        const double var_sodium_background_current__E_NaN = var_sodium_background_current__E_Na; // mV
        const double var_sodium_background_current__i_Na_b = var_sodium_background_current__g_Nab * (var_sodium_background_current__V - var_sodium_background_current__E_NaN); // uA_per_mm2
        const double var_sodium_potassium_pump__Ko = var_ionic_concentrations__Ko; // mM
        const double var_sodium_potassium_pump__K_mNai = 10.0; // mM
        const double var_sodium_potassium_pump__Nai = var_chaste_interface__ionic_concentrations__Nai; // mM
        const double var_sodium_potassium_pump__V = var_chaste_interface__membrane__V; // mV
        const double var_sodium_potassium_pump__F = var_membrane__F; // faradays_constant_units
        const double var_sodium_potassium_pump__T = var_membrane__T; // kelvin
        const double var_sodium_potassium_pump__Nao = var_ionic_concentrations__Nao; // mM
        const double var_sodium_potassium_pump__sigma = (1.0 / 7.0) * (exp(var_sodium_potassium_pump__Nao / 67.299999999999997) - 1.0); // dimensionless
        const double var_sodium_potassium_pump__R = var_membrane__R; // gas_constant_units
        const double var_sodium_potassium_pump__f_NaK = 1.0 / ((1.0 + (0.1245 * exp( -0.10000000000000001 * ((var_sodium_potassium_pump__V * var_sodium_potassium_pump__F) / (var_sodium_potassium_pump__R * var_sodium_potassium_pump__T))))) + (0.036499999999999998 * var_sodium_potassium_pump__sigma * exp(-((var_sodium_potassium_pump__V * var_sodium_potassium_pump__F) / (var_sodium_potassium_pump__R * var_sodium_potassium_pump__T))))); // dimensionless
        const double var_sodium_potassium_pump__I_NaK = 0.014999999999999999; // uA_per_mm2
        const double var_sodium_potassium_pump__K_mKo = 1.5; // mM
        const double var_sodium_potassium_pump__i_NaK = var_sodium_potassium_pump__I_NaK * var_sodium_potassium_pump__f_NaK * (1.0 / (1.0 + pow(var_sodium_potassium_pump__K_mNai / var_sodium_potassium_pump__Nai, 1.5))) * (var_sodium_potassium_pump__Ko / (var_sodium_potassium_pump__Ko + var_sodium_potassium_pump__K_mKo)); // uA_per_mm2
        const double var_time_dependent_potassium_current__V = var_chaste_interface__membrane__V; // mV
        const double var_time_dependent_potassium_current_Xi_gate__V = var_time_dependent_potassium_current__V; // mV
        const double var_time_dependent_potassium_current_Xi_gate__Xi = 1.0 / (1.0 + exp((var_time_dependent_potassium_current_Xi_gate__V - 56.259999999999998) / 32.100000000000001)); // dimensionless
        const double var_time_dependent_potassium_current__Xi = var_time_dependent_potassium_current_Xi_gate__Xi; // dimensionless
        const double var_time_dependent_potassium_current__g_K_max = 0.00282; // mS_per_mm2
        const double var_time_dependent_potassium_current__Ko = var_ionic_concentrations__Ko; // mM
        const double var_time_dependent_potassium_current__g_K = var_time_dependent_potassium_current__g_K_max * sqrt(var_time_dependent_potassium_current__Ko / 5.4000000000000004); // mS_per_mm2
        const double var_time_dependent_potassium_current__X = var_chaste_interface__time_dependent_potassium_current_X_gate__X; // dimensionless
        const double var_time_dependent_potassium_current__PR_NaK = 0.018329999999999999; // dimensionless
        const double var_time_dependent_potassium_current__F = var_membrane__F; // faradays_constant_units
        const double var_time_dependent_potassium_current__Nao = var_ionic_concentrations__Nao; // mM
        const double var_time_dependent_potassium_current__Ki = var_chaste_interface__ionic_concentrations__Ki; // mM
        const double var_time_dependent_potassium_current__Nai = var_chaste_interface__ionic_concentrations__Nai; // mM
        const double var_time_dependent_potassium_current__T = var_membrane__T; // kelvin
        const double var_time_dependent_potassium_current__R = var_membrane__R; // gas_constant_units
        const double var_time_dependent_potassium_current__E_K = ((var_time_dependent_potassium_current__R * var_time_dependent_potassium_current__T) / var_time_dependent_potassium_current__F) * log((var_time_dependent_potassium_current__Ko + (var_time_dependent_potassium_current__PR_NaK * var_time_dependent_potassium_current__Nao)) / (var_time_dependent_potassium_current__Ki + (var_time_dependent_potassium_current__PR_NaK * var_time_dependent_potassium_current__Nai))); // mV
        const double var_time_dependent_potassium_current__i_K = var_time_dependent_potassium_current__g_K * pow(var_time_dependent_potassium_current__X, 2.0) * var_time_dependent_potassium_current__Xi * (var_time_dependent_potassium_current__V - var_time_dependent_potassium_current__E_K); // uA_per_mm2
        const double var_calcium_background_current__R = var_membrane__R; // gas_constant_units
        const double var_calcium_background_current__Cai = var_chaste_interface__ionic_concentrations__Cai; // mM
        const double var_calcium_background_current__F = var_membrane__F; // faradays_constant_units
        const double var_calcium_background_current__T = var_membrane__T; // kelvin
        const double var_calcium_background_current__Cao = var_ionic_concentrations__Cao; // mM
        const double var_calcium_background_current__E_CaN = ((var_calcium_background_current__R * var_calcium_background_current__T) / (2.0 * var_calcium_background_current__F)) * log(var_calcium_background_current__Cao / var_calcium_background_current__Cai); // mV
        const double var_calcium_background_current__g_Cab = 3.0159999999999999e-05; // mS_per_mm2
        const double var_calcium_background_current__V = var_chaste_interface__membrane__V; // mV
        const double var_calcium_background_current__i_Ca_b = var_calcium_background_current__g_Cab * (var_calcium_background_current__V - var_calcium_background_current__E_CaN); // uA_per_mm2
        const double var_non_specific_calcium_activated_current__R = var_membrane__R; // gas_constant_units
        const double var_non_specific_calcium_activated_current__Ko = var_ionic_concentrations__Ko; // mM
        const double var_non_specific_calcium_activated_current__T = var_membrane__T; // kelvin
        const double var_non_specific_calcium_activated_current__Ki = var_chaste_interface__ionic_concentrations__Ki; // mM
        const double var_non_specific_calcium_activated_current__F = var_membrane__F; // faradays_constant_units
        const double var_non_specific_calcium_activated_current__Nao = var_ionic_concentrations__Nao; // mM
        const double var_non_specific_calcium_activated_current__Nai = var_chaste_interface__ionic_concentrations__Nai; // mM
        const double var_non_specific_calcium_activated_current__EnsCa = ((var_non_specific_calcium_activated_current__R * var_non_specific_calcium_activated_current__T) / var_non_specific_calcium_activated_current__F) * log((var_non_specific_calcium_activated_current__Ko + var_non_specific_calcium_activated_current__Nao) / (var_non_specific_calcium_activated_current__Ki + var_non_specific_calcium_activated_current__Nai)); // mV
        const double var_non_specific_calcium_activated_current__V = var_chaste_interface__membrane__V; // mV
        const double var_non_specific_calcium_activated_current__Vns = var_non_specific_calcium_activated_current__V - var_non_specific_calcium_activated_current__EnsCa; // mV
        const double var_non_specific_calcium_activated_current__P_ns_Ca = 1.75e-09; // mm_per_ms
        const double var_non_specific_calcium_activated_current__gamma_Nai = var_L_type_Ca_channel__gamma_Nai; // dimensionless
        const double var_non_specific_calcium_activated_current__gamma_Nao = var_L_type_Ca_channel__gamma_Nao; // dimensionless
        const double var_non_specific_calcium_activated_current__I_ns_Na = var_non_specific_calcium_activated_current__P_ns_Ca * pow(1.0, 2.0) * ((var_non_specific_calcium_activated_current__Vns * pow(var_non_specific_calcium_activated_current__F, 2.0)) / (var_non_specific_calcium_activated_current__R * var_non_specific_calcium_activated_current__T)) * (((var_non_specific_calcium_activated_current__gamma_Nai * var_non_specific_calcium_activated_current__Nai * exp((1.0 * var_non_specific_calcium_activated_current__Vns * var_non_specific_calcium_activated_current__F) / (var_non_specific_calcium_activated_current__R * var_non_specific_calcium_activated_current__T))) - (var_non_specific_calcium_activated_current__gamma_Nao * var_non_specific_calcium_activated_current__Nao)) / (exp((1.0 * var_non_specific_calcium_activated_current__Vns * var_non_specific_calcium_activated_current__F) / (var_non_specific_calcium_activated_current__R * var_non_specific_calcium_activated_current__T)) - 1.0)); // uA_per_mm2
        const double var_non_specific_calcium_activated_current__K_m_ns_Ca = 0.0011999999999999999; // mM
        const double var_non_specific_calcium_activated_current__Cai = var_chaste_interface__ionic_concentrations__Cai; // mM
        const double var_non_specific_calcium_activated_current__i_ns_Na = var_non_specific_calcium_activated_current__I_ns_Na * (1.0 / (1.0 + pow(var_non_specific_calcium_activated_current__K_m_ns_Ca / var_non_specific_calcium_activated_current__Cai, 3.0))); // uA_per_mm2
        const double var_non_specific_calcium_activated_current__gamma_Ki = var_L_type_Ca_channel__gamma_Ki; // dimensionless
        const double var_non_specific_calcium_activated_current__gamma_Ko = var_L_type_Ca_channel__gamma_Ko; // dimensionless
        const double var_non_specific_calcium_activated_current__I_ns_K = var_non_specific_calcium_activated_current__P_ns_Ca * pow(1.0, 2.0) * ((var_non_specific_calcium_activated_current__Vns * pow(var_non_specific_calcium_activated_current__F, 2.0)) / (var_non_specific_calcium_activated_current__R * var_non_specific_calcium_activated_current__T)) * (((var_non_specific_calcium_activated_current__gamma_Ki * var_non_specific_calcium_activated_current__Ki * exp((1.0 * var_non_specific_calcium_activated_current__Vns * var_non_specific_calcium_activated_current__F) / (var_non_specific_calcium_activated_current__R * var_non_specific_calcium_activated_current__T))) - (var_non_specific_calcium_activated_current__gamma_Ko * var_non_specific_calcium_activated_current__Ko)) / (exp((1.0 * var_non_specific_calcium_activated_current__Vns * var_non_specific_calcium_activated_current__F) / (var_non_specific_calcium_activated_current__R * var_non_specific_calcium_activated_current__T)) - 1.0)); // uA_per_mm2
        const double var_non_specific_calcium_activated_current__i_ns_K = var_non_specific_calcium_activated_current__I_ns_K * (1.0 / (1.0 + pow(var_non_specific_calcium_activated_current__K_m_ns_Ca / var_non_specific_calcium_activated_current__Cai, 3.0))); // uA_per_mm2
        const double var_non_specific_calcium_activated_current__i_ns_Ca = var_non_specific_calcium_activated_current__i_ns_Na + var_non_specific_calcium_activated_current__i_ns_K; // uA_per_mm2
        const double var_Na_Ca_exchanger__K_sat = 0.10000000000000001; // dimensionless
        const double var_Na_Ca_exchanger__Nao = var_ionic_concentrations__Nao; // mM
        const double var_Na_Ca_exchanger__F = var_membrane__F; // faradays_constant_units
        const double var_Na_Ca_exchanger__K_mNa = 87.5; // mM
        const double var_Na_Ca_exchanger__Nai = var_chaste_interface__ionic_concentrations__Nai; // mM
        const double var_Na_Ca_exchanger__K_NaCa = 20.0; // uA_per_mm2
        const double var_Na_Ca_exchanger__T = var_membrane__T; // kelvin
        const double var_Na_Ca_exchanger__Cao = var_ionic_concentrations__Cao; // mM
        const double var_Na_Ca_exchanger__V = var_chaste_interface__membrane__V; // mV
        const double var_Na_Ca_exchanger__K_mCa = 1.3799999999999999; // mM
        const double var_Na_Ca_exchanger__eta = 0.34999999999999998; // dimensionless
        const double var_Na_Ca_exchanger__R = var_membrane__R; // gas_constant_units
        const double var_Na_Ca_exchanger__Cai = var_chaste_interface__ionic_concentrations__Cai; // mM
        const double var_Na_Ca_exchanger__i_NaCa = var_Na_Ca_exchanger__K_NaCa * (1.0 / (pow(var_Na_Ca_exchanger__K_mNa, 3.0) + pow(var_Na_Ca_exchanger__Nao, 3.0))) * (1.0 / (var_Na_Ca_exchanger__K_mCa + var_Na_Ca_exchanger__Cao)) * (1.0 / (1.0 + (var_Na_Ca_exchanger__K_sat * exp((var_Na_Ca_exchanger__eta - 1.0) * var_Na_Ca_exchanger__V * (var_Na_Ca_exchanger__F / (var_Na_Ca_exchanger__R * var_Na_Ca_exchanger__T)))))) * ((exp(var_Na_Ca_exchanger__eta * var_Na_Ca_exchanger__V * (var_Na_Ca_exchanger__F / (var_Na_Ca_exchanger__R * var_Na_Ca_exchanger__T))) * pow(var_Na_Ca_exchanger__Nai, 3.0) * var_Na_Ca_exchanger__Cao) - (exp((var_Na_Ca_exchanger__eta - 1.0) * var_Na_Ca_exchanger__V * (var_Na_Ca_exchanger__F / (var_Na_Ca_exchanger__R * var_Na_Ca_exchanger__T))) * pow(var_Na_Ca_exchanger__Nao, 3.0) * var_Na_Ca_exchanger__Cai)); // uA_per_mm2
        const double var_plateau_potassium_current__g_Kp = 0.000183; // mS_per_mm2
        const double var_plateau_potassium_current__V = var_chaste_interface__membrane__V; // mV
        const double var_plateau_potassium_current__Kp = 1.0 / (1.0 + exp((7.4880000000000004 - var_plateau_potassium_current__V) / 5.9800000000000004)); // dimensionless
        const double var_time_independent_potassium_current__Ki = var_chaste_interface__ionic_concentrations__Ki; // mM
        const double var_time_independent_potassium_current__R = var_membrane__R; // gas_constant_units
        const double var_time_independent_potassium_current__F = var_membrane__F; // faradays_constant_units
        const double var_time_independent_potassium_current__Ko = var_ionic_concentrations__Ko; // mM
        const double var_time_independent_potassium_current__T = var_membrane__T; // kelvin
        const double var_time_independent_potassium_current__E_K1 = ((var_time_independent_potassium_current__R * var_time_independent_potassium_current__T) / var_time_independent_potassium_current__F) * log(var_time_independent_potassium_current__Ko / var_time_independent_potassium_current__Ki); // mV
        const double var_plateau_potassium_current__E_K1 = var_time_independent_potassium_current__E_K1; // mV
        const double var_plateau_potassium_current__E_Kp = var_plateau_potassium_current__E_K1; // mV
        const double var_plateau_potassium_current__i_Kp = var_plateau_potassium_current__g_Kp * var_plateau_potassium_current__Kp * (var_plateau_potassium_current__V - var_plateau_potassium_current__E_Kp); // uA_per_mm2
        const double var_time_independent_potassium_current__V = var_chaste_interface__membrane__V; // mV
        const double var_time_independent_potassium_current_K1_gate__V = var_time_independent_potassium_current__V; // mV
        const double var_time_independent_potassium_current_K1_gate__E_K1 = var_time_independent_potassium_current__E_K1; // mV
        const double var_time_independent_potassium_current_K1_gate__beta_K1 = ((0.49124000000000001 * exp(0.080320000000000003 * ((var_time_independent_potassium_current_K1_gate__V + 5.476) - var_time_independent_potassium_current_K1_gate__E_K1))) + exp(0.061749999999999999 * (var_time_independent_potassium_current_K1_gate__V - (var_time_independent_potassium_current_K1_gate__E_K1 + 594.30999999999995)))) / (1.0 + exp( -0.51429999999999998 * ((var_time_independent_potassium_current_K1_gate__V - var_time_independent_potassium_current_K1_gate__E_K1) + 4.7530000000000001))); // per_ms
        const double var_time_independent_potassium_current_K1_gate__alpha_K1 = 1.02 / (1.0 + exp(0.23849999999999999 * ((var_time_independent_potassium_current_K1_gate__V - var_time_independent_potassium_current_K1_gate__E_K1) - 59.215000000000003))); // per_ms
        const double var_time_independent_potassium_current_K1_gate__K1_infinity = var_time_independent_potassium_current_K1_gate__alpha_K1 / (var_time_independent_potassium_current_K1_gate__alpha_K1 + var_time_independent_potassium_current_K1_gate__beta_K1); // dimensionless
        const double var_time_independent_potassium_current__K1_infinity = var_time_independent_potassium_current_K1_gate__K1_infinity; // dimensionless
        const double var_time_independent_potassium_current__g_K1_max = 0.0074999999999999997; // mS_per_mm2
        const double var_time_independent_potassium_current__g_K1 = var_time_independent_potassium_current__g_K1_max * sqrt(var_time_independent_potassium_current__Ko / 5.4000000000000004); // mS_per_mm2
        const double var_time_independent_potassium_current__i_K1 = var_time_independent_potassium_current__g_K1 * var_time_independent_potassium_current__K1_infinity * (var_time_independent_potassium_current__V - var_time_independent_potassium_current__E_K1); // uA_per_mm2
        const double var_chaste_interface__time_dependent_potassium_current__i_K = var_time_dependent_potassium_current__i_K; // uA_per_mm2
        const double var_chaste_interface__time_independent_potassium_current__i_K1 = var_time_independent_potassium_current__i_K1; // uA_per_mm2
        const double var_chaste_interface__Na_Ca_exchanger__i_NaCa = var_Na_Ca_exchanger__i_NaCa; // uA_per_mm2
        const double var_chaste_interface__fast_sodium_current__i_Na = var_fast_sodium_current__i_Na; // uA_per_mm2
        const double var_chaste_interface__sarcolemmal_calcium_pump__i_p_Ca = var_sarcolemmal_calcium_pump__i_p_Ca; // uA_per_mm2
        const double var_chaste_interface__plateau_potassium_current__i_Kp = var_plateau_potassium_current__i_Kp; // uA_per_mm2
        const double var_chaste_interface__non_specific_calcium_activated_current__i_ns_Ca = var_non_specific_calcium_activated_current__i_ns_Ca; // uA_per_mm2
        const double var_chaste_interface__calcium_background_current__i_Ca_b = var_calcium_background_current__i_Ca_b; // uA_per_mm2
        const double var_chaste_interface__sodium_potassium_pump__i_NaK = var_sodium_potassium_pump__i_NaK; // uA_per_mm2
        const double var_chaste_interface__sodium_background_current__i_Na_b = var_sodium_background_current__i_Na_b; // uA_per_mm2
        const double var_chaste_interface__L_type_Ca_channel__i_Ca_L = var_L_type_Ca_channel__i_Ca_L; // uA_per_mm2
        const double var_chaste_interface__i_ionic = (100.0 * var_chaste_interface__fast_sodium_current__i_Na) + (100.0 * var_chaste_interface__L_type_Ca_channel__i_Ca_L) + (100.0 * var_chaste_interface__time_dependent_potassium_current__i_K) + (100.0 * var_chaste_interface__time_independent_potassium_current__i_K1) + (100.0 * var_chaste_interface__plateau_potassium_current__i_Kp) + (100.0 * var_chaste_interface__Na_Ca_exchanger__i_NaCa) + (100.0 * var_chaste_interface__sarcolemmal_calcium_pump__i_p_Ca) + (100.0 * var_chaste_interface__sodium_background_current__i_Na_b) + (100.0 * var_chaste_interface__calcium_background_current__i_Ca_b) + (100.0 * var_chaste_interface__sodium_potassium_pump__i_NaK) + (100.0 * var_chaste_interface__non_specific_calcium_activated_current__i_ns_Ca); // uA_per_cm2
        
        const double i_ionic = var_chaste_interface__i_ionic;
        if (made_new_cvode_vector)
        {
            DeleteVector(rY);
        }
        EXCEPT_IF_NOT(!std::isnan(i_ionic));
        return i_ionic;
    }
    
    void Dynamicluo_rudy_1994FromCellMLCvode::EvaluateYDerivatives(double var_chaste_interface__environment__time, const N_Vector rY, N_Vector rDY)
    {
        // Inputs:
        // Time units: millisecond
        double var_chaste_interface__membrane__V = (mSetVoltageDerivativeToZero ? this->mFixedVoltage : NV_Ith_S(rY, 0));
        // Units: millivolt; Initial value: -84.624
        double var_chaste_interface__ionic_concentrations__Cai = NV_Ith_S(rY, 1);
        // Units: millimolar; Initial value: 0.12e-3
        double var_chaste_interface__fast_sodium_current_m_gate__m = NV_Ith_S(rY, 2);
        // Units: dimensionless; Initial value: 0.0
        double var_chaste_interface__fast_sodium_current_h_gate__h = NV_Ith_S(rY, 3);
        // Units: dimensionless; Initial value: 1.0
        double var_chaste_interface__fast_sodium_current_j_gate__j = NV_Ith_S(rY, 4);
        // Units: dimensionless; Initial value: 1.0
        double var_chaste_interface__L_type_Ca_channel_d_gate__d = NV_Ith_S(rY, 5);
        // Units: dimensionless; Initial value: 0.0
        double var_chaste_interface__L_type_Ca_channel_f_gate__f = NV_Ith_S(rY, 6);
        // Units: dimensionless; Initial value: 1.0
        double var_chaste_interface__time_dependent_potassium_current_X_gate__X = NV_Ith_S(rY, 7);
        // Units: dimensionless; Initial value: 0.0
        double var_chaste_interface__ionic_concentrations__Nai = NV_Ith_S(rY, 8);
        // Units: mM; Initial value: 10.0
        double var_chaste_interface__ionic_concentrations__Ki = NV_Ith_S(rY, 9);
        // Units: mM; Initial value: 145.0
        double var_chaste_interface__ionic_concentrations__Ca_JSR = NV_Ith_S(rY, 10);
        // Units: mM; Initial value: 1.8
        double var_chaste_interface__ionic_concentrations__Ca_NSR = NV_Ith_S(rY, 11);
        // Units: mM; Initial value: 1.8
        
        
        // Mathematics
        double d_dt_chaste_interface__membrane__V;
        const double var_membrane__R = 8314.5; // gas_constant_units
        const double var_membrane__T = 310.0; // kelvin
        const double var_membrane__F = 96845.0; // faradays_constant_units
        const double var_fast_sodium_current__j = var_chaste_interface__fast_sodium_current_j_gate__j; // dimensionless
        const double var_fast_sodium_current__h = var_chaste_interface__fast_sodium_current_h_gate__h; // dimensionless
        const double var_fast_sodium_current__g_Na = 0.16; // mS_per_mm2
        const double var_fast_sodium_current__m = var_chaste_interface__fast_sodium_current_m_gate__m; // dimensionless
        const double var_fast_sodium_current__V = var_chaste_interface__membrane__V; // mV
        const double var_fast_sodium_current__R = var_membrane__R; // gas_constant_units
        const double var_fast_sodium_current__F = var_membrane__F; // faradays_constant_units
        const double var_ionic_concentrations__Nao = 140.0; // mM
        const double var_fast_sodium_current__Nao = var_ionic_concentrations__Nao; // mM
        const double var_fast_sodium_current__Nai = var_chaste_interface__ionic_concentrations__Nai; // mM
        const double var_fast_sodium_current__T = var_membrane__T; // kelvin
        const double var_fast_sodium_current__E_Na = ((var_fast_sodium_current__R * var_fast_sodium_current__T) / var_fast_sodium_current__F) * log(var_fast_sodium_current__Nao / var_fast_sodium_current__Nai); // mV
        const double var_fast_sodium_current__i_Na = var_fast_sodium_current__g_Na * pow(var_fast_sodium_current__m, 3.0) * var_fast_sodium_current__h * var_fast_sodium_current__j * (var_fast_sodium_current__V - var_fast_sodium_current__E_Na); // uA_per_mm2
        const double var_L_type_Ca_channel__d = var_chaste_interface__L_type_Ca_channel_d_gate__d; // dimensionless
        const double var_L_type_Ca_channel__f = var_chaste_interface__L_type_Ca_channel_f_gate__f; // dimensionless
        const double var_L_type_Ca_channel_f_Ca_gate__Km_Ca = 0.00059999999999999995; // mM
        const double var_L_type_Ca_channel__Cai = var_chaste_interface__ionic_concentrations__Cai; // mM
        const double var_L_type_Ca_channel_f_Ca_gate__Cai = var_L_type_Ca_channel__Cai; // mM
        const double var_L_type_Ca_channel_f_Ca_gate__f_Ca = 1.0 / (1.0 + pow(var_L_type_Ca_channel_f_Ca_gate__Cai / var_L_type_Ca_channel_f_Ca_gate__Km_Ca, 2.0)); // dimensionless
        const double var_L_type_Ca_channel__f_Ca = var_L_type_Ca_channel_f_Ca_gate__f_Ca; // dimensionless
        const double var_L_type_Ca_channel__gamma_Cai = 1.0; // dimensionless
        const double var_L_type_Ca_channel__gamma_Cao = 0.34000000000000002; // dimensionless
        const double var_ionic_concentrations__Cao = 1.8; // mM
        const double var_L_type_Ca_channel__Cao = var_ionic_concentrations__Cao; // mM
        const double var_L_type_Ca_channel__F = var_membrane__F; // faradays_constant_units
        const double var_L_type_Ca_channel__P_Ca = 5.4e-06; // mm_per_ms
        const double var_L_type_Ca_channel__T = var_membrane__T; // kelvin
        const double var_L_type_Ca_channel__V = var_chaste_interface__membrane__V; // mV
        const double var_L_type_Ca_channel__R = var_membrane__R; // gas_constant_units
        const double var_L_type_Ca_channel__I_CaCa = var_L_type_Ca_channel__P_Ca * pow(2.0, 2.0) * ((var_L_type_Ca_channel__V * pow(var_L_type_Ca_channel__F, 2.0)) / (var_L_type_Ca_channel__R * var_L_type_Ca_channel__T)) * (((var_L_type_Ca_channel__gamma_Cai * var_L_type_Ca_channel__Cai * exp((2.0 * var_L_type_Ca_channel__V * var_L_type_Ca_channel__F) / (var_L_type_Ca_channel__R * var_L_type_Ca_channel__T))) - (var_L_type_Ca_channel__gamma_Cao * var_L_type_Ca_channel__Cao)) / (exp((2.0 * var_L_type_Ca_channel__V * var_L_type_Ca_channel__F) / (var_L_type_Ca_channel__R * var_L_type_Ca_channel__T)) - 1.0)); // uA_per_mm2
        const double var_L_type_Ca_channel__i_CaCa = var_L_type_Ca_channel__d * var_L_type_Ca_channel__f * var_L_type_Ca_channel__f_Ca * var_L_type_Ca_channel__I_CaCa; // uA_per_mm2
        const double var_L_type_Ca_channel__P_Na = 6.7500000000000001e-09; // mm_per_ms
        const double var_L_type_Ca_channel__gamma_Nao = 0.75; // dimensionless
        const double var_L_type_Ca_channel__Nao = var_ionic_concentrations__Nao; // mM
        const double var_L_type_Ca_channel__Nai = var_chaste_interface__ionic_concentrations__Nai; // mM
        const double var_L_type_Ca_channel__gamma_Nai = 0.75; // dimensionless
        const double var_L_type_Ca_channel__I_CaNa = var_L_type_Ca_channel__P_Na * pow(1.0, 2.0) * ((var_L_type_Ca_channel__V * pow(var_L_type_Ca_channel__F, 2.0)) / (var_L_type_Ca_channel__R * var_L_type_Ca_channel__T)) * (((var_L_type_Ca_channel__gamma_Nai * var_L_type_Ca_channel__Nai * exp((1.0 * var_L_type_Ca_channel__V * var_L_type_Ca_channel__F) / (var_L_type_Ca_channel__R * var_L_type_Ca_channel__T))) - (var_L_type_Ca_channel__gamma_Nao * var_L_type_Ca_channel__Nao)) / (exp((1.0 * var_L_type_Ca_channel__V * var_L_type_Ca_channel__F) / (var_L_type_Ca_channel__R * var_L_type_Ca_channel__T)) - 1.0)); // uA_per_mm2
        const double var_L_type_Ca_channel__i_CaNa = var_L_type_Ca_channel__d * var_L_type_Ca_channel__f * var_L_type_Ca_channel__f_Ca * var_L_type_Ca_channel__I_CaNa; // uA_per_mm2
        const double var_ionic_concentrations__Ko = 5.4000000000000004; // mM
        const double var_L_type_Ca_channel__Ko = var_ionic_concentrations__Ko; // mM
        const double var_L_type_Ca_channel__Ki = var_chaste_interface__ionic_concentrations__Ki; // mM
        const double var_L_type_Ca_channel__P_K = 1.9300000000000002e-09; // mm_per_ms
        const double var_L_type_Ca_channel__gamma_Ki = 0.75; // dimensionless
        const double var_L_type_Ca_channel__gamma_Ko = 0.75; // dimensionless
        const double var_L_type_Ca_channel__I_CaK = var_L_type_Ca_channel__P_K * pow(1.0, 2.0) * ((var_L_type_Ca_channel__V * pow(var_L_type_Ca_channel__F, 2.0)) / (var_L_type_Ca_channel__R * var_L_type_Ca_channel__T)) * (((var_L_type_Ca_channel__gamma_Ki * var_L_type_Ca_channel__Ki * exp((1.0 * var_L_type_Ca_channel__V * var_L_type_Ca_channel__F) / (var_L_type_Ca_channel__R * var_L_type_Ca_channel__T))) - (var_L_type_Ca_channel__gamma_Ko * var_L_type_Ca_channel__Ko)) / (exp((1.0 * var_L_type_Ca_channel__V * var_L_type_Ca_channel__F) / (var_L_type_Ca_channel__R * var_L_type_Ca_channel__T)) - 1.0)); // uA_per_mm2
        const double var_L_type_Ca_channel__i_CaK = var_L_type_Ca_channel__d * var_L_type_Ca_channel__f * var_L_type_Ca_channel__f_Ca * var_L_type_Ca_channel__I_CaK; // uA_per_mm2
        const double var_sarcolemmal_calcium_pump__I_pCa = 0.0115; // uA_per_mm2
        const double var_sarcolemmal_calcium_pump__Cai = var_chaste_interface__ionic_concentrations__Cai; // mM
        const double var_sarcolemmal_calcium_pump__K_mpCa = 0.00050000000000000001; // mM
        const double var_sarcolemmal_calcium_pump__i_p_Ca = var_sarcolemmal_calcium_pump__I_pCa * (var_sarcolemmal_calcium_pump__Cai / (var_sarcolemmal_calcium_pump__K_mpCa + var_sarcolemmal_calcium_pump__Cai)); // uA_per_mm2
        const double var_sodium_background_current__g_Nab = 1.4100000000000001e-05; // mS_per_mm2
        const double var_sodium_background_current__V = var_chaste_interface__membrane__V; // mV
        const double var_sodium_background_current__E_Na = var_fast_sodium_current__E_Na; // mV
        const double var_sodium_background_current__E_NaN = var_sodium_background_current__E_Na; // mV
        const double var_sodium_background_current__i_Na_b = var_sodium_background_current__g_Nab * (var_sodium_background_current__V - var_sodium_background_current__E_NaN); // uA_per_mm2
        const double var_sodium_potassium_pump__Ko = var_ionic_concentrations__Ko; // mM
        const double var_sodium_potassium_pump__K_mNai = 10.0; // mM
        const double var_sodium_potassium_pump__Nai = var_chaste_interface__ionic_concentrations__Nai; // mM
        const double var_sodium_potassium_pump__V = var_chaste_interface__membrane__V; // mV
        const double var_sodium_potassium_pump__F = var_membrane__F; // faradays_constant_units
        const double var_sodium_potassium_pump__T = var_membrane__T; // kelvin
        const double var_sodium_potassium_pump__Nao = var_ionic_concentrations__Nao; // mM
        const double var_sodium_potassium_pump__sigma = (1.0 / 7.0) * (exp(var_sodium_potassium_pump__Nao / 67.299999999999997) - 1.0); // dimensionless
        const double var_sodium_potassium_pump__R = var_membrane__R; // gas_constant_units
        const double var_sodium_potassium_pump__f_NaK = 1.0 / ((1.0 + (0.1245 * exp( -0.10000000000000001 * ((var_sodium_potassium_pump__V * var_sodium_potassium_pump__F) / (var_sodium_potassium_pump__R * var_sodium_potassium_pump__T))))) + (0.036499999999999998 * var_sodium_potassium_pump__sigma * exp(-((var_sodium_potassium_pump__V * var_sodium_potassium_pump__F) / (var_sodium_potassium_pump__R * var_sodium_potassium_pump__T))))); // dimensionless
        const double var_sodium_potassium_pump__I_NaK = 0.014999999999999999; // uA_per_mm2
        const double var_sodium_potassium_pump__K_mKo = 1.5; // mM
        const double var_sodium_potassium_pump__i_NaK = var_sodium_potassium_pump__I_NaK * var_sodium_potassium_pump__f_NaK * (1.0 / (1.0 + pow(var_sodium_potassium_pump__K_mNai / var_sodium_potassium_pump__Nai, 1.5))) * (var_sodium_potassium_pump__Ko / (var_sodium_potassium_pump__Ko + var_sodium_potassium_pump__K_mKo)); // uA_per_mm2
        const double var_time_dependent_potassium_current__V = var_chaste_interface__membrane__V; // mV
        const double var_time_dependent_potassium_current_Xi_gate__V = var_time_dependent_potassium_current__V; // mV
        const double var_time_dependent_potassium_current_Xi_gate__Xi = 1.0 / (1.0 + exp((var_time_dependent_potassium_current_Xi_gate__V - 56.259999999999998) / 32.100000000000001)); // dimensionless
        const double var_time_dependent_potassium_current__Xi = var_time_dependent_potassium_current_Xi_gate__Xi; // dimensionless
        const double var_time_dependent_potassium_current__g_K_max = 0.00282; // mS_per_mm2
        const double var_time_dependent_potassium_current__Ko = var_ionic_concentrations__Ko; // mM
        const double var_time_dependent_potassium_current__g_K = var_time_dependent_potassium_current__g_K_max * sqrt(var_time_dependent_potassium_current__Ko / 5.4000000000000004); // mS_per_mm2
        const double var_time_dependent_potassium_current__X = var_chaste_interface__time_dependent_potassium_current_X_gate__X; // dimensionless
        const double var_time_dependent_potassium_current__PR_NaK = 0.018329999999999999; // dimensionless
        const double var_time_dependent_potassium_current__F = var_membrane__F; // faradays_constant_units
        const double var_time_dependent_potassium_current__Nao = var_ionic_concentrations__Nao; // mM
        const double var_time_dependent_potassium_current__Ki = var_chaste_interface__ionic_concentrations__Ki; // mM
        const double var_time_dependent_potassium_current__Nai = var_chaste_interface__ionic_concentrations__Nai; // mM
        const double var_time_dependent_potassium_current__T = var_membrane__T; // kelvin
        const double var_time_dependent_potassium_current__R = var_membrane__R; // gas_constant_units
        const double var_time_dependent_potassium_current__E_K = ((var_time_dependent_potassium_current__R * var_time_dependent_potassium_current__T) / var_time_dependent_potassium_current__F) * log((var_time_dependent_potassium_current__Ko + (var_time_dependent_potassium_current__PR_NaK * var_time_dependent_potassium_current__Nao)) / (var_time_dependent_potassium_current__Ki + (var_time_dependent_potassium_current__PR_NaK * var_time_dependent_potassium_current__Nai))); // mV
        const double var_time_dependent_potassium_current__i_K = var_time_dependent_potassium_current__g_K * pow(var_time_dependent_potassium_current__X, 2.0) * var_time_dependent_potassium_current__Xi * (var_time_dependent_potassium_current__V - var_time_dependent_potassium_current__E_K); // uA_per_mm2
        const double var_calcium_background_current__R = var_membrane__R; // gas_constant_units
        const double var_calcium_background_current__Cai = var_chaste_interface__ionic_concentrations__Cai; // mM
        const double var_calcium_background_current__F = var_membrane__F; // faradays_constant_units
        const double var_calcium_background_current__T = var_membrane__T; // kelvin
        const double var_calcium_background_current__Cao = var_ionic_concentrations__Cao; // mM
        const double var_calcium_background_current__E_CaN = ((var_calcium_background_current__R * var_calcium_background_current__T) / (2.0 * var_calcium_background_current__F)) * log(var_calcium_background_current__Cao / var_calcium_background_current__Cai); // mV
        const double var_calcium_background_current__g_Cab = 3.0159999999999999e-05; // mS_per_mm2
        const double var_calcium_background_current__V = var_chaste_interface__membrane__V; // mV
        const double var_calcium_background_current__i_Ca_b = var_calcium_background_current__g_Cab * (var_calcium_background_current__V - var_calcium_background_current__E_CaN); // uA_per_mm2
        const double var_non_specific_calcium_activated_current__R = var_membrane__R; // gas_constant_units
        const double var_non_specific_calcium_activated_current__Ko = var_ionic_concentrations__Ko; // mM
        const double var_non_specific_calcium_activated_current__T = var_membrane__T; // kelvin
        const double var_non_specific_calcium_activated_current__Ki = var_chaste_interface__ionic_concentrations__Ki; // mM
        const double var_non_specific_calcium_activated_current__F = var_membrane__F; // faradays_constant_units
        const double var_non_specific_calcium_activated_current__Nao = var_ionic_concentrations__Nao; // mM
        const double var_non_specific_calcium_activated_current__Nai = var_chaste_interface__ionic_concentrations__Nai; // mM
        const double var_non_specific_calcium_activated_current__EnsCa = ((var_non_specific_calcium_activated_current__R * var_non_specific_calcium_activated_current__T) / var_non_specific_calcium_activated_current__F) * log((var_non_specific_calcium_activated_current__Ko + var_non_specific_calcium_activated_current__Nao) / (var_non_specific_calcium_activated_current__Ki + var_non_specific_calcium_activated_current__Nai)); // mV
        const double var_non_specific_calcium_activated_current__V = var_chaste_interface__membrane__V; // mV
        const double var_non_specific_calcium_activated_current__Vns = var_non_specific_calcium_activated_current__V - var_non_specific_calcium_activated_current__EnsCa; // mV
        const double var_non_specific_calcium_activated_current__P_ns_Ca = 1.75e-09; // mm_per_ms
        const double var_non_specific_calcium_activated_current__gamma_Nai = var_L_type_Ca_channel__gamma_Nai; // dimensionless
        const double var_non_specific_calcium_activated_current__gamma_Nao = var_L_type_Ca_channel__gamma_Nao; // dimensionless
        const double var_non_specific_calcium_activated_current__I_ns_Na = var_non_specific_calcium_activated_current__P_ns_Ca * pow(1.0, 2.0) * ((var_non_specific_calcium_activated_current__Vns * pow(var_non_specific_calcium_activated_current__F, 2.0)) / (var_non_specific_calcium_activated_current__R * var_non_specific_calcium_activated_current__T)) * (((var_non_specific_calcium_activated_current__gamma_Nai * var_non_specific_calcium_activated_current__Nai * exp((1.0 * var_non_specific_calcium_activated_current__Vns * var_non_specific_calcium_activated_current__F) / (var_non_specific_calcium_activated_current__R * var_non_specific_calcium_activated_current__T))) - (var_non_specific_calcium_activated_current__gamma_Nao * var_non_specific_calcium_activated_current__Nao)) / (exp((1.0 * var_non_specific_calcium_activated_current__Vns * var_non_specific_calcium_activated_current__F) / (var_non_specific_calcium_activated_current__R * var_non_specific_calcium_activated_current__T)) - 1.0)); // uA_per_mm2
        const double var_non_specific_calcium_activated_current__K_m_ns_Ca = 0.0011999999999999999; // mM
        const double var_non_specific_calcium_activated_current__Cai = var_chaste_interface__ionic_concentrations__Cai; // mM
        const double var_non_specific_calcium_activated_current__i_ns_Na = var_non_specific_calcium_activated_current__I_ns_Na * (1.0 / (1.0 + pow(var_non_specific_calcium_activated_current__K_m_ns_Ca / var_non_specific_calcium_activated_current__Cai, 3.0))); // uA_per_mm2
        const double var_non_specific_calcium_activated_current__gamma_Ki = var_L_type_Ca_channel__gamma_Ki; // dimensionless
        const double var_non_specific_calcium_activated_current__gamma_Ko = var_L_type_Ca_channel__gamma_Ko; // dimensionless
        const double var_non_specific_calcium_activated_current__I_ns_K = var_non_specific_calcium_activated_current__P_ns_Ca * pow(1.0, 2.0) * ((var_non_specific_calcium_activated_current__Vns * pow(var_non_specific_calcium_activated_current__F, 2.0)) / (var_non_specific_calcium_activated_current__R * var_non_specific_calcium_activated_current__T)) * (((var_non_specific_calcium_activated_current__gamma_Ki * var_non_specific_calcium_activated_current__Ki * exp((1.0 * var_non_specific_calcium_activated_current__Vns * var_non_specific_calcium_activated_current__F) / (var_non_specific_calcium_activated_current__R * var_non_specific_calcium_activated_current__T))) - (var_non_specific_calcium_activated_current__gamma_Ko * var_non_specific_calcium_activated_current__Ko)) / (exp((1.0 * var_non_specific_calcium_activated_current__Vns * var_non_specific_calcium_activated_current__F) / (var_non_specific_calcium_activated_current__R * var_non_specific_calcium_activated_current__T)) - 1.0)); // uA_per_mm2
        const double var_non_specific_calcium_activated_current__i_ns_K = var_non_specific_calcium_activated_current__I_ns_K * (1.0 / (1.0 + pow(var_non_specific_calcium_activated_current__K_m_ns_Ca / var_non_specific_calcium_activated_current__Cai, 3.0))); // uA_per_mm2
        const double var_Na_Ca_exchanger__K_sat = 0.10000000000000001; // dimensionless
        const double var_Na_Ca_exchanger__Nao = var_ionic_concentrations__Nao; // mM
        const double var_Na_Ca_exchanger__F = var_membrane__F; // faradays_constant_units
        const double var_Na_Ca_exchanger__K_mNa = 87.5; // mM
        const double var_Na_Ca_exchanger__Nai = var_chaste_interface__ionic_concentrations__Nai; // mM
        const double var_Na_Ca_exchanger__K_NaCa = 20.0; // uA_per_mm2
        const double var_Na_Ca_exchanger__T = var_membrane__T; // kelvin
        const double var_Na_Ca_exchanger__Cao = var_ionic_concentrations__Cao; // mM
        const double var_Na_Ca_exchanger__V = var_chaste_interface__membrane__V; // mV
        const double var_Na_Ca_exchanger__K_mCa = 1.3799999999999999; // mM
        const double var_Na_Ca_exchanger__eta = 0.34999999999999998; // dimensionless
        const double var_Na_Ca_exchanger__R = var_membrane__R; // gas_constant_units
        const double var_Na_Ca_exchanger__Cai = var_chaste_interface__ionic_concentrations__Cai; // mM
        const double var_Na_Ca_exchanger__i_NaCa = var_Na_Ca_exchanger__K_NaCa * (1.0 / (pow(var_Na_Ca_exchanger__K_mNa, 3.0) + pow(var_Na_Ca_exchanger__Nao, 3.0))) * (1.0 / (var_Na_Ca_exchanger__K_mCa + var_Na_Ca_exchanger__Cao)) * (1.0 / (1.0 + (var_Na_Ca_exchanger__K_sat * exp((var_Na_Ca_exchanger__eta - 1.0) * var_Na_Ca_exchanger__V * (var_Na_Ca_exchanger__F / (var_Na_Ca_exchanger__R * var_Na_Ca_exchanger__T)))))) * ((exp(var_Na_Ca_exchanger__eta * var_Na_Ca_exchanger__V * (var_Na_Ca_exchanger__F / (var_Na_Ca_exchanger__R * var_Na_Ca_exchanger__T))) * pow(var_Na_Ca_exchanger__Nai, 3.0) * var_Na_Ca_exchanger__Cao) - (exp((var_Na_Ca_exchanger__eta - 1.0) * var_Na_Ca_exchanger__V * (var_Na_Ca_exchanger__F / (var_Na_Ca_exchanger__R * var_Na_Ca_exchanger__T))) * pow(var_Na_Ca_exchanger__Nao, 3.0) * var_Na_Ca_exchanger__Cai)); // uA_per_mm2
        const double var_plateau_potassium_current__g_Kp = 0.000183; // mS_per_mm2
        const double var_plateau_potassium_current__V = var_chaste_interface__membrane__V; // mV
        const double var_plateau_potassium_current__Kp = 1.0 / (1.0 + exp((7.4880000000000004 - var_plateau_potassium_current__V) / 5.9800000000000004)); // dimensionless
        const double var_time_independent_potassium_current__Ki = var_chaste_interface__ionic_concentrations__Ki; // mM
        const double var_time_independent_potassium_current__R = var_membrane__R; // gas_constant_units
        const double var_time_independent_potassium_current__F = var_membrane__F; // faradays_constant_units
        const double var_time_independent_potassium_current__Ko = var_ionic_concentrations__Ko; // mM
        const double var_time_independent_potassium_current__T = var_membrane__T; // kelvin
        const double var_time_independent_potassium_current__E_K1 = ((var_time_independent_potassium_current__R * var_time_independent_potassium_current__T) / var_time_independent_potassium_current__F) * log(var_time_independent_potassium_current__Ko / var_time_independent_potassium_current__Ki); // mV
        const double var_plateau_potassium_current__E_K1 = var_time_independent_potassium_current__E_K1; // mV
        const double var_plateau_potassium_current__E_Kp = var_plateau_potassium_current__E_K1; // mV
        const double var_plateau_potassium_current__i_Kp = var_plateau_potassium_current__g_Kp * var_plateau_potassium_current__Kp * (var_plateau_potassium_current__V - var_plateau_potassium_current__E_Kp); // uA_per_mm2
        const double var_time_independent_potassium_current__V = var_chaste_interface__membrane__V; // mV
        const double var_time_independent_potassium_current_K1_gate__V = var_time_independent_potassium_current__V; // mV
        const double var_time_independent_potassium_current_K1_gate__E_K1 = var_time_independent_potassium_current__E_K1; // mV
        const double var_time_independent_potassium_current_K1_gate__beta_K1 = ((0.49124000000000001 * exp(0.080320000000000003 * ((var_time_independent_potassium_current_K1_gate__V + 5.476) - var_time_independent_potassium_current_K1_gate__E_K1))) + exp(0.061749999999999999 * (var_time_independent_potassium_current_K1_gate__V - (var_time_independent_potassium_current_K1_gate__E_K1 + 594.30999999999995)))) / (1.0 + exp( -0.51429999999999998 * ((var_time_independent_potassium_current_K1_gate__V - var_time_independent_potassium_current_K1_gate__E_K1) + 4.7530000000000001))); // per_ms
        const double var_time_independent_potassium_current_K1_gate__alpha_K1 = 1.02 / (1.0 + exp(0.23849999999999999 * ((var_time_independent_potassium_current_K1_gate__V - var_time_independent_potassium_current_K1_gate__E_K1) - 59.215000000000003))); // per_ms
        const double var_time_independent_potassium_current_K1_gate__K1_infinity = var_time_independent_potassium_current_K1_gate__alpha_K1 / (var_time_independent_potassium_current_K1_gate__alpha_K1 + var_time_independent_potassium_current_K1_gate__beta_K1); // dimensionless
        const double var_time_independent_potassium_current__K1_infinity = var_time_independent_potassium_current_K1_gate__K1_infinity; // dimensionless
        const double var_time_independent_potassium_current__g_K1_max = 0.0074999999999999997; // mS_per_mm2
        const double var_time_independent_potassium_current__g_K1 = var_time_independent_potassium_current__g_K1_max * sqrt(var_time_independent_potassium_current__Ko / 5.4000000000000004); // mS_per_mm2
        const double var_time_independent_potassium_current__i_K1 = var_time_independent_potassium_current__g_K1 * var_time_independent_potassium_current__K1_infinity * (var_time_independent_potassium_current__V - var_time_independent_potassium_current__E_K1); // uA_per_mm2
        const double var_fast_sodium_current_m_gate__m = var_fast_sodium_current__m; // dimensionless
        const double var_fast_sodium_current_m_gate__V = var_fast_sodium_current__V; // mV
        const double var_fast_sodium_current_m_gate__alpha_m = (0.32000000000000001 * (var_fast_sodium_current_m_gate__V + 47.130000000000003)) / (1.0 - exp( -0.10000000000000001 * (var_fast_sodium_current_m_gate__V + 47.130000000000003))); // per_ms
        const double var_fast_sodium_current_m_gate__beta_m = 0.080000000000000002 * exp((-var_fast_sodium_current_m_gate__V) / 11.0); // per_ms
        const double var_fast_sodium_current_m_gate__d_m_d_environment__time = (var_fast_sodium_current_m_gate__alpha_m * (1.0 - var_fast_sodium_current_m_gate__m)) - (var_fast_sodium_current_m_gate__beta_m * var_fast_sodium_current_m_gate__m); // 'per millisecond'
        const double var_fast_sodium_current__fast_sodium_current_m_gate__d_m_d_environment__time = var_fast_sodium_current_m_gate__d_m_d_environment__time; // ___units_14
        const double var_fast_sodium_current_h_gate__V = var_fast_sodium_current__V; // mV
        const double var_fast_sodium_current_h_gate__beta_h = (var_fast_sodium_current_h_gate__V <  -40.0) ? ((3.5600000000000001 * exp(0.079000000000000001 * var_fast_sodium_current_h_gate__V)) + (310000.0 * exp(0.34999999999999998 * var_fast_sodium_current_h_gate__V))) : (1.0 / (0.13 * (1.0 + exp((var_fast_sodium_current_h_gate__V + 10.66) /  -11.1)))); // per_ms
        const double var_fast_sodium_current_h_gate__alpha_h = (var_fast_sodium_current_h_gate__V <  -40.0) ? (0.13500000000000001 * exp((80.0 + var_fast_sodium_current_h_gate__V) /  -6.7999999999999998)) : 0.0; // per_ms
        const double var_fast_sodium_current_h_gate__h = var_fast_sodium_current__h; // dimensionless
        const double var_fast_sodium_current_h_gate__d_h_d_environment__time = (var_fast_sodium_current_h_gate__alpha_h * (1.0 - var_fast_sodium_current_h_gate__h)) - (var_fast_sodium_current_h_gate__beta_h * var_fast_sodium_current_h_gate__h); // 'per millisecond'
        const double var_fast_sodium_current__fast_sodium_current_h_gate__d_h_d_environment__time = var_fast_sodium_current_h_gate__d_h_d_environment__time; // ___units_14
        const double var_fast_sodium_current_j_gate__V = var_fast_sodium_current__V; // mV
        const double var_fast_sodium_current_j_gate__alpha_j = (var_fast_sodium_current_j_gate__V <  -40.0) ? ((( -127140.0 * exp(0.24440000000000001 * var_fast_sodium_current_j_gate__V)) - (3.4740000000000003e-05 * exp( -0.043909999999999998 * var_fast_sodium_current_j_gate__V))) * ((var_fast_sodium_current_j_gate__V + 37.780000000000001) / (1.0 + exp(0.311 * (var_fast_sodium_current_j_gate__V + 79.230000000000004))))) : 0.0; // per_ms
        const double var_fast_sodium_current_j_gate__beta_j = (var_fast_sodium_current_j_gate__V <  -40.0) ? ((0.1212 * exp( -0.01052 * var_fast_sodium_current_j_gate__V)) / (1.0 + exp( -0.13780000000000001 * (var_fast_sodium_current_j_gate__V + 40.140000000000001)))) : ((0.29999999999999999 * exp( -2.5349999999999999e-07 * var_fast_sodium_current_j_gate__V)) / (1.0 + exp( -0.10000000000000001 * (var_fast_sodium_current_j_gate__V + 32.0)))); // per_ms
        const double var_fast_sodium_current_j_gate__j = var_fast_sodium_current__j; // dimensionless
        const double var_fast_sodium_current_j_gate__d_j_d_environment__time = (var_fast_sodium_current_j_gate__alpha_j * (1.0 - var_fast_sodium_current_j_gate__j)) - (var_fast_sodium_current_j_gate__beta_j * var_fast_sodium_current_j_gate__j); // 'per millisecond'
        const double var_fast_sodium_current__fast_sodium_current_j_gate__d_j_d_environment__time = var_fast_sodium_current_j_gate__d_j_d_environment__time; // ___units_14
        const double var_L_type_Ca_channel_d_gate__V = var_L_type_Ca_channel__V; // mV
        const double var_L_type_Ca_channel_d_gate__d_infinity = 1.0 / (1.0 + exp(-((var_L_type_Ca_channel_d_gate__V + 10.0) / 6.2400000000000002))); // dimensionless
        const double var_L_type_Ca_channel_d_gate__tau_d = var_L_type_Ca_channel_d_gate__d_infinity * ((1.0 - exp(-((var_L_type_Ca_channel_d_gate__V + 10.0) / 6.2400000000000002))) / (0.035000000000000003 * (var_L_type_Ca_channel_d_gate__V + 10.0))); // ms
        const double var_L_type_Ca_channel_d_gate__alpha_d = var_L_type_Ca_channel_d_gate__d_infinity / var_L_type_Ca_channel_d_gate__tau_d; // per_ms
        const double var_L_type_Ca_channel_d_gate__d = var_L_type_Ca_channel__d; // dimensionless
        const double var_L_type_Ca_channel_d_gate__beta_d = (1.0 - var_L_type_Ca_channel_d_gate__d_infinity) / var_L_type_Ca_channel_d_gate__tau_d; // per_ms
        const double var_L_type_Ca_channel_d_gate__d_d_d_environment__time = (var_L_type_Ca_channel_d_gate__alpha_d * (1.0 - var_L_type_Ca_channel_d_gate__d)) - (var_L_type_Ca_channel_d_gate__beta_d * var_L_type_Ca_channel_d_gate__d); // 'per millisecond'
        const double var_L_type_Ca_channel__L_type_Ca_channel_d_gate__d_d_d_environment__time = var_L_type_Ca_channel_d_gate__d_d_d_environment__time; // ___units_14
        const double var_L_type_Ca_channel_f_gate__V = var_L_type_Ca_channel__V; // mV
        const double var_L_type_Ca_channel_f_gate__f_infinity = (1.0 / (1.0 + exp((var_L_type_Ca_channel_f_gate__V + 35.060000000000002) / 8.5999999999999996))) + (0.59999999999999998 / (1.0 + exp((50.0 - var_L_type_Ca_channel_f_gate__V) / 20.0))); // dimensionless
        const double var_L_type_Ca_channel_f_gate__tau_f = 1.0 / ((0.019699999999999999 * exp(-pow(0.033700000000000001 * (var_L_type_Ca_channel_f_gate__V + 10.0), 2.0))) + 0.02); // ms
        const double var_L_type_Ca_channel_f_gate__beta_f = (1.0 - var_L_type_Ca_channel_f_gate__f_infinity) / var_L_type_Ca_channel_f_gate__tau_f; // per_ms
        const double var_L_type_Ca_channel_f_gate__f = var_L_type_Ca_channel__f; // dimensionless
        const double var_L_type_Ca_channel_f_gate__alpha_f = var_L_type_Ca_channel_f_gate__f_infinity / var_L_type_Ca_channel_f_gate__tau_f; // per_ms
        const double var_L_type_Ca_channel_f_gate__d_f_d_environment__time = (var_L_type_Ca_channel_f_gate__alpha_f * (1.0 - var_L_type_Ca_channel_f_gate__f)) - (var_L_type_Ca_channel_f_gate__beta_f * var_L_type_Ca_channel_f_gate__f); // 'per millisecond'
        const double var_L_type_Ca_channel__L_type_Ca_channel_f_gate__d_f_d_environment__time = var_L_type_Ca_channel_f_gate__d_f_d_environment__time; // ___units_14
        const double var_time_dependent_potassium_current_X_gate__X = var_time_dependent_potassium_current__X; // dimensionless
        const double var_time_dependent_potassium_current_X_gate__V = var_time_dependent_potassium_current__V; // mV
        const double var_time_dependent_potassium_current_X_gate__beta_X = (0.00013100000000000001 * (var_time_dependent_potassium_current_X_gate__V + 30.0)) / ( -1.0 + exp(0.068699999999999997 * (var_time_dependent_potassium_current_X_gate__V + 30.0))); // per_ms
        const double var_time_dependent_potassium_current_X_gate__alpha_X = (7.1899999999999999e-05 * (var_time_dependent_potassium_current_X_gate__V + 30.0)) / (1.0 - exp( -0.14799999999999999 * (var_time_dependent_potassium_current_X_gate__V + 30.0))); // per_ms
        const double var_time_dependent_potassium_current_X_gate__d_X_d_environment__time = (var_time_dependent_potassium_current_X_gate__alpha_X * (1.0 - var_time_dependent_potassium_current_X_gate__X)) - (var_time_dependent_potassium_current_X_gate__beta_X * var_time_dependent_potassium_current_X_gate__X); // 'per millisecond'
        const double var_time_dependent_potassium_current__time_dependent_potassium_current_X_gate__d_X_d_environment__time = var_time_dependent_potassium_current_X_gate__d_X_d_environment__time; // ___units_14
        const double var_calcium_fluxes_in_the_SR__t_CICR = 0.0; // ms
        const double var_calcium_fluxes_in_the_SR__tau_on = 2.0; // ms
        const double var_calcium_fluxes_in_the_SR__delta_Ca_i2 = 0.0; // mM
        const double var_calcium_fluxes_in_the_SR__G_rel_max = 60.0; // per_ms
        const double var_calcium_fluxes_in_the_SR__delta_Ca_ith = 0.00018000000000000001; // mM
        const double var_calcium_fluxes_in_the_SR__G_rel_peak = (var_calcium_fluxes_in_the_SR__delta_Ca_i2 < var_calcium_fluxes_in_the_SR__delta_Ca_ith) ? 0.0 : var_calcium_fluxes_in_the_SR__G_rel_max; // per_ms
        const double var_calcium_fluxes_in_the_SR__tau_off = 2.0; // ms
        const double var_calcium_fluxes_in_the_SR__K_mrel = 0.00080000000000000004; // mM
        const double var_calcium_fluxes_in_the_SR__G_rel = var_calcium_fluxes_in_the_SR__G_rel_peak * ((var_calcium_fluxes_in_the_SR__delta_Ca_i2 - var_calcium_fluxes_in_the_SR__delta_Ca_ith) / ((var_calcium_fluxes_in_the_SR__K_mrel + var_calcium_fluxes_in_the_SR__delta_Ca_i2) - var_calcium_fluxes_in_the_SR__delta_Ca_ith)) * (1.0 - exp(-(var_calcium_fluxes_in_the_SR__t_CICR / var_calcium_fluxes_in_the_SR__tau_on))) * exp(-(var_calcium_fluxes_in_the_SR__t_CICR / var_calcium_fluxes_in_the_SR__tau_off)); // per_ms
        const double var_calcium_fluxes_in_the_SR__Ca_JSR = var_chaste_interface__ionic_concentrations__Ca_JSR; // mM
        const double var_calcium_fluxes_in_the_SR__Cai = var_chaste_interface__ionic_concentrations__Cai; // mM
        const double var_calcium_fluxes_in_the_SR__i_rel = var_calcium_fluxes_in_the_SR__G_rel * (var_calcium_fluxes_in_the_SR__Ca_JSR - var_calcium_fluxes_in_the_SR__Cai); // mM_per_ms
        const double var_calcium_fluxes_in_the_SR__I_up = 0.0050000000000000001; // mM_per_ms
        const double var_calcium_fluxes_in_the_SR__K_mup = 0.00092000000000000003; // mM
        const double var_calcium_fluxes_in_the_SR__i_up = var_calcium_fluxes_in_the_SR__I_up * (var_calcium_fluxes_in_the_SR__Cai / (var_calcium_fluxes_in_the_SR__Cai + var_calcium_fluxes_in_the_SR__K_mup)); // mM_per_ms
        const double var_calcium_fluxes_in_the_SR__Ca_NSR = var_chaste_interface__ionic_concentrations__Ca_NSR; // mM
        const double var_calcium_fluxes_in_the_SR__Ca_NSR_max = 15.0; // mM
        const double var_calcium_fluxes_in_the_SR__K_leak = var_calcium_fluxes_in_the_SR__I_up / var_calcium_fluxes_in_the_SR__Ca_NSR_max; // per_ms
        const double var_calcium_fluxes_in_the_SR__i_leak = var_calcium_fluxes_in_the_SR__K_leak * var_calcium_fluxes_in_the_SR__Ca_NSR; // mM_per_ms
        const double var_calcium_fluxes_in_the_SR__tau_tr = 180.0; // ms
        const double var_calcium_fluxes_in_the_SR__i_tr = (var_calcium_fluxes_in_the_SR__Ca_NSR - var_calcium_fluxes_in_the_SR__Ca_JSR) / var_calcium_fluxes_in_the_SR__tau_tr; // mM_per_ms
        const double var_ionic_concentrations__Am = 200.0; // per_mm
        const double var_ionic_concentrations__V_myo = 0.68000000000000005; // dimensionless
        const double var_ionic_concentrations__V_JSR = 0.0047999999999999996; // dimensionless
        const double var_ionic_concentrations__V_NSR = 0.055199999999999999; // dimensionless
        const double var_ionic_concentrations__F = var_membrane__F; // faradays_constant_units
        const double var_ionic_concentrations__i_Na = var_fast_sodium_current__i_Na; // uA_per_mm2
        const double var_ionic_concentrations__i_CaNa = var_L_type_Ca_channel__i_CaNa; // uA_per_mm2
        const double var_ionic_concentrations__i_Na_b = var_sodium_background_current__i_Na_b; // uA_per_mm2
        const double var_ionic_concentrations__i_ns_Na = var_non_specific_calcium_activated_current__i_ns_Na; // uA_per_mm2
        const double var_ionic_concentrations__i_NaCa = var_Na_Ca_exchanger__i_NaCa; // uA_per_mm2
        const double var_ionic_concentrations__i_NaK = var_sodium_potassium_pump__i_NaK; // uA_per_mm2
        const double var_ionic_concentrations__i_CaCa = var_L_type_Ca_channel__i_CaCa; // uA_per_mm2
        const double var_ionic_concentrations__i_CaK = var_L_type_Ca_channel__i_CaK; // uA_per_mm2
        const double var_ionic_concentrations__i_p_Ca = var_sarcolemmal_calcium_pump__i_p_Ca; // uA_per_mm2
        const double var_ionic_concentrations__i_Ca_b = var_calcium_background_current__i_Ca_b; // uA_per_mm2
        const double var_ionic_concentrations__i_K = var_time_dependent_potassium_current__i_K; // uA_per_mm2
        const double var_ionic_concentrations__i_K1 = var_time_independent_potassium_current__i_K1; // uA_per_mm2
        const double var_ionic_concentrations__i_Kp = var_plateau_potassium_current__i_Kp; // uA_per_mm2
        const double var_ionic_concentrations__i_ns_K = var_non_specific_calcium_activated_current__i_ns_K; // uA_per_mm2
        const double var_ionic_concentrations__i_tr = var_calcium_fluxes_in_the_SR__i_tr; // mM_per_ms
        const double var_ionic_concentrations__i_rel = var_calcium_fluxes_in_the_SR__i_rel; // mM_per_ms
        const double var_ionic_concentrations__i_leak = var_calcium_fluxes_in_the_SR__i_leak; // mM_per_ms
        const double var_ionic_concentrations__i_up = var_calcium_fluxes_in_the_SR__i_up; // mM_per_ms
        const double var_ionic_concentrations__d_Cai_d_environment__time = ((-((var_ionic_concentrations__i_CaCa + var_ionic_concentrations__i_p_Ca + var_ionic_concentrations__i_Ca_b) - var_ionic_concentrations__i_NaCa)) * (var_ionic_concentrations__Am / (2.0 * var_ionic_concentrations__V_myo * var_ionic_concentrations__F))) + (var_ionic_concentrations__i_rel * (var_ionic_concentrations__V_JSR / var_ionic_concentrations__V_myo)) + ((var_ionic_concentrations__i_leak - var_ionic_concentrations__i_up) * (var_ionic_concentrations__V_NSR / var_ionic_concentrations__V_myo)); // 'nanomole per millimetre^3 per millisecond'
        const double var_ionic_concentrations__d_Nai_d_environment__time = (-(var_ionic_concentrations__i_Na + var_ionic_concentrations__i_CaNa + var_ionic_concentrations__i_Na_b + var_ionic_concentrations__i_ns_Na + (var_ionic_concentrations__i_NaCa * 3.0) + (var_ionic_concentrations__i_NaK * 3.0))) * (var_ionic_concentrations__Am / (var_ionic_concentrations__V_myo * var_ionic_concentrations__F)); // 'nanomole per millimetre^3 per millisecond'
        const double var_ionic_concentrations__d_Ki_d_environment__time = (-(var_ionic_concentrations__i_CaK + var_ionic_concentrations__i_K + var_ionic_concentrations__i_K1 + var_ionic_concentrations__i_Kp + var_ionic_concentrations__i_ns_K + (-(var_ionic_concentrations__i_NaK * 2.0)))) * (var_ionic_concentrations__Am / (var_ionic_concentrations__V_myo * var_ionic_concentrations__F)); // 'nanomole per millimetre^3 per millisecond'
        const double var_ionic_concentrations__d_Ca_JSR_d_environment__time = -(var_ionic_concentrations__i_rel - (var_ionic_concentrations__i_tr * (var_ionic_concentrations__V_NSR / var_ionic_concentrations__V_JSR))); // 'nanomole per millimetre^3 per millisecond'
        const double var_ionic_concentrations__d_Ca_NSR_d_environment__time = -((var_ionic_concentrations__i_leak + var_ionic_concentrations__i_tr) - var_ionic_concentrations__i_up); // 'nanomole per millimetre^3 per millisecond'
        const double var_chaste_interface__ionic_concentrations__d_Cai_d_environment__time = var_ionic_concentrations__d_Cai_d_environment__time; // ___units_48
        const double var_chaste_interface__fast_sodium_current_m_gate__d_m_d_environment__time = var_fast_sodium_current__fast_sodium_current_m_gate__d_m_d_environment__time; // ___units_14
        const double var_chaste_interface__fast_sodium_current_h_gate__d_h_d_environment__time = var_fast_sodium_current__fast_sodium_current_h_gate__d_h_d_environment__time; // ___units_14
        const double var_chaste_interface__fast_sodium_current_j_gate__d_j_d_environment__time = var_fast_sodium_current__fast_sodium_current_j_gate__d_j_d_environment__time; // ___units_14
        const double var_chaste_interface__L_type_Ca_channel_d_gate__d_d_d_environment__time = var_L_type_Ca_channel__L_type_Ca_channel_d_gate__d_d_d_environment__time; // ___units_14
        const double var_chaste_interface__L_type_Ca_channel_f_gate__d_f_d_environment__time = var_L_type_Ca_channel__L_type_Ca_channel_f_gate__d_f_d_environment__time; // ___units_14
        const double var_chaste_interface__time_dependent_potassium_current_X_gate__d_X_d_environment__time = var_time_dependent_potassium_current__time_dependent_potassium_current_X_gate__d_X_d_environment__time; // ___units_14
        const double var_chaste_interface__ionic_concentrations__d_Nai_d_environment__time = var_ionic_concentrations__d_Nai_d_environment__time; // ___units_50
        const double var_chaste_interface__ionic_concentrations__d_Ki_d_environment__time = var_ionic_concentrations__d_Ki_d_environment__time; // ___units_50
        const double var_chaste_interface__ionic_concentrations__d_Ca_JSR_d_environment__time = var_ionic_concentrations__d_Ca_JSR_d_environment__time; // ___units_50
        const double var_chaste_interface__ionic_concentrations__d_Ca_NSR_d_environment__time = var_ionic_concentrations__d_Ca_NSR_d_environment__time; // ___units_50
        const double d_dt_chaste_interface__ionic_concentrations__Cai = var_chaste_interface__ionic_concentrations__d_Cai_d_environment__time; // 'millimole per litre per millisecond'
        const double d_dt_chaste_interface__fast_sodium_current_m_gate__m = var_chaste_interface__fast_sodium_current_m_gate__d_m_d_environment__time; // 'per millisecond'
        const double d_dt_chaste_interface__fast_sodium_current_h_gate__h = var_chaste_interface__fast_sodium_current_h_gate__d_h_d_environment__time; // 'per millisecond'
        const double d_dt_chaste_interface__fast_sodium_current_j_gate__j = var_chaste_interface__fast_sodium_current_j_gate__d_j_d_environment__time; // 'per millisecond'
        const double d_dt_chaste_interface__L_type_Ca_channel_d_gate__d = var_chaste_interface__L_type_Ca_channel_d_gate__d_d_d_environment__time; // 'per millisecond'
        const double d_dt_chaste_interface__L_type_Ca_channel_f_gate__f = var_chaste_interface__L_type_Ca_channel_f_gate__d_f_d_environment__time; // 'per millisecond'
        const double d_dt_chaste_interface__time_dependent_potassium_current_X_gate__X = var_chaste_interface__time_dependent_potassium_current_X_gate__d_X_d_environment__time; // 'per millisecond'
        const double d_dt_chaste_interface__ionic_concentrations__Nai = var_chaste_interface__ionic_concentrations__d_Nai_d_environment__time; // 'nanomole per millimetre^3 per millisecond'
        const double d_dt_chaste_interface__ionic_concentrations__Ki = var_chaste_interface__ionic_concentrations__d_Ki_d_environment__time; // 'nanomole per millimetre^3 per millisecond'
        const double d_dt_chaste_interface__ionic_concentrations__Ca_JSR = var_chaste_interface__ionic_concentrations__d_Ca_JSR_d_environment__time; // 'nanomole per millimetre^3 per millisecond'
        const double d_dt_chaste_interface__ionic_concentrations__Ca_NSR = var_chaste_interface__ionic_concentrations__d_Ca_NSR_d_environment__time; // 'nanomole per millimetre^3 per millisecond'
        
        if (mSetVoltageDerivativeToZero)
        {
            d_dt_chaste_interface__membrane__V = 0.0;
        }
        else
        {
            const double var_membrane__i_Na = var_fast_sodium_current__i_Na; // uA_per_mm2
            const double var_L_type_Ca_channel__i_Ca_L = var_L_type_Ca_channel__i_CaCa + var_L_type_Ca_channel__i_CaK + var_L_type_Ca_channel__i_CaNa; // uA_per_mm2
            const double var_membrane__i_Ca_L = var_L_type_Ca_channel__i_Ca_L; // uA_per_mm2
            const double var_membrane__i_p_Ca = var_sarcolemmal_calcium_pump__i_p_Ca; // uA_per_mm2
            const double var_membrane__i_Na_b = var_sodium_background_current__i_Na_b; // uA_per_mm2
            const double var_membrane__i_NaK = var_sodium_potassium_pump__i_NaK; // uA_per_mm2
            const double var_membrane__i_K = var_time_dependent_potassium_current__i_K; // uA_per_mm2
            const double var_chaste_interface__membrane__I_st = -GetIntracellularAreaStimulus(var_chaste_interface__environment__time);
            const double var_membrane__I_st_converter = var_chaste_interface__membrane__I_st; // uA_per_cm2
            const double var_membrane__I_st = 0.01 * var_membrane__I_st_converter; // uA_per_mm2
            const double var_membrane__i_Ca_b = var_calcium_background_current__i_Ca_b; // uA_per_mm2
            const double var_non_specific_calcium_activated_current__i_ns_Ca = var_non_specific_calcium_activated_current__i_ns_Na + var_non_specific_calcium_activated_current__i_ns_K; // uA_per_mm2
            const double var_membrane__i_ns_Ca = var_non_specific_calcium_activated_current__i_ns_Ca; // uA_per_mm2
            const double var_membrane__Cm = 0.01; // uF_per_mm2
            const double var_membrane__i_NaCa = var_Na_Ca_exchanger__i_NaCa; // uA_per_mm2
            const double var_membrane__i_Kp = var_plateau_potassium_current__i_Kp; // uA_per_mm2
            const double var_membrane__i_K1 = var_time_independent_potassium_current__i_K1; // uA_per_mm2
            const double var_membrane__dV_dt = (var_membrane__I_st - (var_membrane__i_Na + var_membrane__i_Ca_L + var_membrane__i_K + var_membrane__i_K1 + var_membrane__i_Kp + var_membrane__i_NaCa + var_membrane__i_p_Ca + var_membrane__i_Na_b + var_membrane__i_Ca_b + var_membrane__i_NaK + var_membrane__i_ns_Ca)) / var_membrane__Cm; // mV_per_ms
            const double var_membrane__d_V_d_environment__time = var_membrane__dV_dt; // 'millivolt per millisecond'
            const double var_chaste_interface__membrane__d_V_d_environment__time = var_membrane__d_V_d_environment__time; // ___units_4
            d_dt_chaste_interface__membrane__V = var_chaste_interface__membrane__d_V_d_environment__time; // 'millivolt per millisecond'
        }
        
        NV_Ith_S(rDY, 0) = d_dt_chaste_interface__membrane__V;
        NV_Ith_S(rDY, 1) = d_dt_chaste_interface__ionic_concentrations__Cai;
        NV_Ith_S(rDY, 2) = d_dt_chaste_interface__fast_sodium_current_m_gate__m;
        NV_Ith_S(rDY, 3) = d_dt_chaste_interface__fast_sodium_current_h_gate__h;
        NV_Ith_S(rDY, 4) = d_dt_chaste_interface__fast_sodium_current_j_gate__j;
        NV_Ith_S(rDY, 5) = d_dt_chaste_interface__L_type_Ca_channel_d_gate__d;
        NV_Ith_S(rDY, 6) = d_dt_chaste_interface__L_type_Ca_channel_f_gate__f;
        NV_Ith_S(rDY, 7) = d_dt_chaste_interface__time_dependent_potassium_current_X_gate__X;
        NV_Ith_S(rDY, 8) = d_dt_chaste_interface__ionic_concentrations__Nai;
        NV_Ith_S(rDY, 9) = d_dt_chaste_interface__ionic_concentrations__Ki;
        NV_Ith_S(rDY, 10) = d_dt_chaste_interface__ionic_concentrations__Ca_JSR;
        NV_Ith_S(rDY, 11) = d_dt_chaste_interface__ionic_concentrations__Ca_NSR;
    }
    
    void Dynamicluo_rudy_1994FromCellMLCvode::EvaluateAnalyticJacobian(double var_chaste_interface__environment__time, N_Vector rY, N_Vector rDY, CHASTE_CVODE_DENSE_MATRIX rJacobian, N_Vector rTmp1, N_Vector rTmp2, N_Vector rTmp3)
    {
        double var_chaste_interface__membrane__V = (mSetVoltageDerivativeToZero ? this->mFixedVoltage : NV_Ith_S(rY, 0));
        // Units: millivolt; Initial value: -84.624
        double var_chaste_interface__ionic_concentrations__Cai = NV_Ith_S(rY, 1);
        // Units: millimolar; Initial value: 0.12e-3
        double var_chaste_interface__fast_sodium_current_m_gate__m = NV_Ith_S(rY, 2);
        // Units: dimensionless; Initial value: 0.0
        double var_chaste_interface__fast_sodium_current_h_gate__h = NV_Ith_S(rY, 3);
        // Units: dimensionless; Initial value: 1.0
        double var_chaste_interface__fast_sodium_current_j_gate__j = NV_Ith_S(rY, 4);
        // Units: dimensionless; Initial value: 1.0
        double var_chaste_interface__L_type_Ca_channel_d_gate__d = NV_Ith_S(rY, 5);
        // Units: dimensionless; Initial value: 0.0
        double var_chaste_interface__L_type_Ca_channel_f_gate__f = NV_Ith_S(rY, 6);
        // Units: dimensionless; Initial value: 1.0
        double var_chaste_interface__time_dependent_potassium_current_X_gate__X = NV_Ith_S(rY, 7);
        // Units: dimensionless; Initial value: 0.0
        double var_chaste_interface__ionic_concentrations__Nai = NV_Ith_S(rY, 8);
        // Units: mM; Initial value: 10.0
        double var_chaste_interface__ionic_concentrations__Ki = NV_Ith_S(rY, 9);
        // Units: mM; Initial value: 145.0
        
        const double var_chaste_interface__environment__fake_dt = 1.0; // ms
        const double var_membrane__V = var_chaste_interface__membrane__V; // mV
        const double var_membrane__R = 8314.5; // gas_constant_units
        const double var_membrane__T = 310.0; // kelvin
        const double var_membrane__F = 96845.0; // faradays_constant_units
        const double var_fast_sodium_current__j = var_chaste_interface__fast_sodium_current_j_gate__j; // dimensionless
        const double var_fast_sodium_current__h = var_chaste_interface__fast_sodium_current_h_gate__h; // dimensionless
        const double var_fast_sodium_current__g_Na = 0.16; // mS_per_mm2
        const double var_fast_sodium_current__m = var_chaste_interface__fast_sodium_current_m_gate__m; // dimensionless
        const double var_ionic_concentrations__Nao = 140.0; // mM
        const double var_L_type_Ca_channel__d = var_chaste_interface__L_type_Ca_channel_d_gate__d; // dimensionless
        const double var_L_type_Ca_channel__f = var_chaste_interface__L_type_Ca_channel_f_gate__f; // dimensionless
        const double var_L_type_Ca_channel_f_Ca_gate__Km_Ca = 0.00059999999999999995; // mM
        const double var_L_type_Ca_channel__gamma_Cai = 1.0; // dimensionless
        const double var_L_type_Ca_channel__gamma_Cao = 0.34000000000000002; // dimensionless
        const double var_ionic_concentrations__Cao = 1.8; // mM
        const double var_L_type_Ca_channel__P_Ca = 5.4e-06; // mm_per_ms
        const double var_L_type_Ca_channel__P_Na = 6.7500000000000001e-09; // mm_per_ms
        const double var_L_type_Ca_channel__gamma_Nao = 0.75; // dimensionless
        const double var_L_type_Ca_channel__gamma_Nai = 0.75; // dimensionless
        const double var_ionic_concentrations__Ko = 5.4000000000000004; // mM
        const double var_L_type_Ca_channel__P_K = 1.9300000000000002e-09; // mm_per_ms
        const double var_L_type_Ca_channel__gamma_Ki = 0.75; // dimensionless
        const double var_L_type_Ca_channel__gamma_Ko = 0.75; // dimensionless
        const double var_sarcolemmal_calcium_pump__I_pCa = 0.0115; // uA_per_mm2
        const double var_sarcolemmal_calcium_pump__K_mpCa = 0.00050000000000000001; // mM
        const double var_sodium_background_current__g_Nab = 1.4100000000000001e-05; // mS_per_mm2
        const double var_sodium_potassium_pump__K_mNai = 10.0; // mM
        const double var_sodium_potassium_pump__I_NaK = 0.014999999999999999; // uA_per_mm2
        const double var_sodium_potassium_pump__K_mKo = 1.5; // mM
        const double var_time_dependent_potassium_current__g_K_max = 0.00282; // mS_per_mm2
        const double var_time_dependent_potassium_current__X = var_chaste_interface__time_dependent_potassium_current_X_gate__X; // dimensionless
        const double var_time_dependent_potassium_current__PR_NaK = 0.018329999999999999; // dimensionless
        const double var_calcium_background_current__g_Cab = 3.0159999999999999e-05; // mS_per_mm2
        const double var_non_specific_calcium_activated_current__P_ns_Ca = 1.75e-09; // mm_per_ms
        const double var_non_specific_calcium_activated_current__K_m_ns_Ca = 0.0011999999999999999; // mM
        const double var_membrane__Cm = 0.01; // uF_per_mm2
        const double var_Na_Ca_exchanger__K_sat = 0.10000000000000001; // dimensionless
        const double var_Na_Ca_exchanger__K_mNa = 87.5; // mM
        const double var_Na_Ca_exchanger__K_NaCa = 20.0; // uA_per_mm2
        const double var_Na_Ca_exchanger__K_mCa = 1.3799999999999999; // mM
        const double var_Na_Ca_exchanger__eta = 0.34999999999999998; // dimensionless
        const double var_plateau_potassium_current__g_Kp = 0.000183; // mS_per_mm2
        const double var_time_independent_potassium_current__g_K1_max = 0.0074999999999999997; // mS_per_mm2
        const double var_fast_sodium_current_m_gate__m = var_fast_sodium_current__m; // dimensionless
        const double var_fast_sodium_current_h_gate__h = var_fast_sodium_current__h; // dimensionless
        const double var_fast_sodium_current_j_gate__j = var_fast_sodium_current__j; // dimensionless
        const double var_L_type_Ca_channel_d_gate__d = var_L_type_Ca_channel__d; // dimensionless
        const double var_L_type_Ca_channel_f_gate__f = var_L_type_Ca_channel__f; // dimensionless
        const double var_time_dependent_potassium_current_X_gate__X = var_time_dependent_potassium_current__X; // dimensionless
        const double var_calcium_fluxes_in_the_SR__t_CICR = 0.0; // ms
        const double var_calcium_fluxes_in_the_SR__tau_on = 2.0; // ms
        const double var_calcium_fluxes_in_the_SR__delta_Ca_i2 = 0.0; // mM
        const double var_calcium_fluxes_in_the_SR__G_rel_max = 60.0; // per_ms
        const double var_calcium_fluxes_in_the_SR__delta_Ca_ith = 0.00018000000000000001; // mM
        const double var_calcium_fluxes_in_the_SR__tau_off = 2.0; // ms
        const double var_calcium_fluxes_in_the_SR__K_mrel = 0.00080000000000000004; // mM
        const double var_calcium_fluxes_in_the_SR__I_up = 0.0050000000000000001; // mM_per_ms
        const double var_calcium_fluxes_in_the_SR__K_mup = 0.00092000000000000003; // mM
        const double var_calcium_fluxes_in_the_SR__Ca_NSR_max = 15.0; // mM
        const double var_calcium_fluxes_in_the_SR__tau_tr = 180.0; // ms
        const double var_ionic_concentrations__Nai = var_chaste_interface__ionic_concentrations__Nai; // mM
        const double var_ionic_concentrations__Cai = var_chaste_interface__ionic_concentrations__Cai; // mM
        const double var_ionic_concentrations__Ki = var_chaste_interface__ionic_concentrations__Ki; // mM
        const double var_ionic_concentrations__Am = 200.0; // per_mm
        const double var_ionic_concentrations__V_myo = 0.68000000000000005; // dimensionless
        const double var_ionic_concentrations__V_JSR = 0.0047999999999999996; // dimensionless
        const double var_ionic_concentrations__V_NSR = 0.055199999999999999; // dimensionless
        const double var_t1 = pow(var_Na_Ca_exchanger__K_mNa, 2.0); // dimensionless
        const double var_t3 = pow(var_ionic_concentrations__Nao, 2.0); // dimensionless
        const double var_t4 = var_t3 * var_ionic_concentrations__Nao; // dimensionless
        const double var_t7 = var_Na_Ca_exchanger__K_NaCa / ((var_t1 * var_Na_Ca_exchanger__K_mNa) + var_t4); // dimensionless
        const double var_t9 = 1.0 / (var_Na_Ca_exchanger__K_mCa + var_ionic_concentrations__Cao); // dimensionless
        const double var_t10 = var_Na_Ca_exchanger__eta - 1.0; // dimensionless
        const double var_t12 = 1.0 / var_membrane__R; // dimensionless
        const double var_t13 = var_membrane__F * var_t12; // dimensionless
        const double var_t14 = 1.0 / var_membrane__T; // dimensionless
        const double var_t15 = var_t13 * var_t14; // dimensionless
        const double var_t17 = exp((var_t10 * var_membrane__V) * var_t15); // dimensionless
        const double var_t19 = (var_t17 * var_Na_Ca_exchanger__K_sat) + 1.0; // dimensionless
        const double var_t20 = 1.0 / var_t19; // dimensionless
        const double var_t21 = var_t9 * var_t20; // dimensionless
        const double var_t26 = exp((var_Na_Ca_exchanger__eta * var_membrane__V) * var_t15); // dimensionless
        const double var_t28 = pow(var_ionic_concentrations__Nai, 2.0); // dimensionless
        const double var_t29 = var_t28 * var_ionic_concentrations__Nai; // dimensionless
        const double var_t41 = (var_t7 * var_t21) * ((((((((-var_t10) * var_t12) * var_t14) * var_t17) * var_t4) * var_membrane__F) * var_ionic_concentrations__Cai) + ((((((var_t12 * var_t14) * var_t26) * var_t29) * var_membrane__F) * var_Na_Ca_exchanger__eta) * var_ionic_concentrations__Cao)); // dimensionless
        const double var_t42 = pow(var_fast_sodium_current_m_gate__m, 2.0); // dimensionless
        const double var_t44 = (var_fast_sodium_current__g_Na * var_t42) * var_fast_sodium_current_m_gate__m; // dimensionless
        const double var_t45 = var_fast_sodium_current_h_gate__h * var_fast_sodium_current_j_gate__j; // dimensionless
        const double var_t46 = var_t44 * var_t45; // dimensionless
        const double var_t47 = pow(var_ionic_concentrations__Ko, 1.0 / 2.0); // dimensionless
        const double var_t48 = var_time_dependent_potassium_current__g_K_max * var_t47; // dimensionless
        const double var_t49 = pow(var_time_dependent_potassium_current_X_gate__X, 2.0); // dimensionless
        const double var_t52 = exp((0.03115264798 * var_membrane__V) - 1.7526479749999999); // dimensionless
        const double var_t53 = 1.0 + var_t52; // dimensionless
        const double var_t54 = 1.0 / var_t53; // dimensionless
        const double var_t56 = (var_t48 * var_t49) * var_t54; // dimensionless
        const double var_t57 = 0.43033148290000001 * var_t56; // dimensionless
        const double var_t58 = var_time_independent_potassium_current__g_K1_max * var_t47; // dimensionless
        const double var_t60 = var_membrane__R * var_membrane__T; // dimensionless
        const double var_t61 = 1.0 / var_membrane__F; // dimensionless
        const double var_t62 = 1.0 / var_ionic_concentrations__Ki; // dimensionless
        const double var_t64 = log(var_ionic_concentrations__Ko * var_t62); // dimensionless
        const double var_t66 = (var_t60 * var_t61) * var_t64; // dimensionless
        const double var_t69 = exp(((0.23849999999999999 * var_membrane__V) - (0.23849999999999999 * var_t66)) - 14.1227775); // dimensionless
        const double var_t70 = 1.0 + var_t69; // dimensionless
        const double var_t71 = 1.0 / var_t70; // dimensionless
        const double var_t76 = exp(((0.080320000000000003 * var_membrane__V) + 0.43983232) - (0.080320000000000003 * var_t66)); // dimensionless
        const double var_t81 = exp(((0.061749999999999999 * var_membrane__V) - (0.061749999999999999 * var_t66)) - 36.698642499999998); // dimensionless
        const double var_t82 = (0.49124000000000001 * var_t76) + var_t81; // dimensionless
        const double var_t86 = exp((((-0.51429999999999998) * var_membrane__V) + (0.51429999999999998 * var_t66)) - 2.4444678999999998); // dimensionless
        const double var_t87 = 1.0 + var_t86; // dimensionless
        const double var_t88 = 1.0 / var_t87; // dimensionless
        const double var_t90 = (1.02 * var_t71) + (var_t82 * var_t88); // dimensionless
        const double var_t91 = 1.0 / var_t90; // dimensionless
        const double var_t93 = (var_t58 * var_t71) * var_t91; // dimensionless
        const double var_t94 = 0.43893811259999999 * var_t93; // dimensionless
        const double var_t97 = exp(1.252173913 - (0.16722408029999999 * var_membrane__V)); // dimensionless
        const double var_t98 = 1.0 + var_t97; // dimensionless
        const double var_t99 = pow(var_t98, 2.0); // dimensionless
        const double var_t102 = var_membrane__V - var_t66; // dimensionless
        const double var_t105 = (((0.16722408029999999 * var_plateau_potassium_current__g_Kp) / var_t99) * var_t102) * var_t97; // dimensionless
        const double var_t107 = var_plateau_potassium_current__g_Kp / var_t98; // dimensionless
        const double var_t108 = var_L_type_Ca_channel_d_gate__d * var_L_type_Ca_channel_f_gate__f; // dimensionless
        const double var_t109 = pow(var_ionic_concentrations__Cai, 2.0); // dimensionless
        const double var_t110 = pow(var_L_type_Ca_channel_f_Ca_gate__Km_Ca, 2.0); // dimensionless
        const double var_t111 = 1.0 / var_t110; // dimensionless
        const double var_t113 = (var_t109 * var_t111) + 1.0; // dimensionless
        const double var_t114 = 1.0 / var_t113; // dimensionless
        const double var_t115 = var_t108 * var_t114; // dimensionless
        const double var_t116 = var_L_type_Ca_channel__P_K * var_membrane__V; // dimensionless
        const double var_t117 = pow(var_membrane__F, 2.0); // dimensionless
        const double var_t118 = var_t117 * var_membrane__F; // dimensionless
        const double var_t121 = pow(var_membrane__R, 2.0); // dimensionless
        const double var_t122 = 1.0 / var_t121; // dimensionless
        const double var_t123 = pow(var_membrane__T, 2.0); // dimensionless
        const double var_t124 = 1.0 / var_t123; // dimensionless
        const double var_t125 = var_t122 * var_t124; // dimensionless
        const double var_t128 = var_t12 * var_t14; // dimensionless
        const double var_t129 = (var_membrane__V * var_membrane__F) * var_t128; // dimensionless
        const double var_t130 = exp(var_t129); // dimensionless
        const double var_t132 = var_t130 - 1.0; // dimensionless
        const double var_t133 = 1.0 / var_t132; // dimensionless
        const double var_t136 = ((((((var_t115 * var_t116) * var_t118) * var_t125) * var_L_type_Ca_channel__gamma_Ki) * var_ionic_concentrations__Ki) * var_t130) * var_t133; // dimensionless
        const double var_t137 = var_L_type_Ca_channel__P_Na * var_membrane__V; // dimensionless
        const double var_t144 = ((((((var_t115 * var_t137) * var_t118) * var_t125) * var_L_type_Ca_channel__gamma_Nai) * var_ionic_concentrations__Nai) * var_t130) * var_t133; // dimensionless
        const double var_t145 = var_L_type_Ca_channel__P_Ca * var_membrane__V; // dimensionless
        const double var_t150 = exp(2.0 * var_t129); // dimensionless
        const double var_t152 = var_t150 - 1.0; // dimensionless
        const double var_t153 = 1.0 / var_t152; // dimensionless
        const double var_t157 = (((((((8.0 * var_t115) * var_t145) * var_t118) * var_t125) * var_L_type_Ca_channel__gamma_Cai) * var_ionic_concentrations__Cai) * var_t150) * var_t153; // dimensionless
        const double var_t159 = (var_non_specific_calcium_activated_current__P_ns_Ca * var_t117) * var_t12; // dimensionless
        const double var_t160 = var_L_type_Ca_channel__gamma_Nai * var_ionic_concentrations__Nai; // dimensionless
        const double var_t163 = 1.0 / (var_ionic_concentrations__Ki + var_ionic_concentrations__Nai); // dimensionless
        const double var_t165 = log((var_ionic_concentrations__Ko + var_ionic_concentrations__Nao) * var_t163); // dimensionless
        const double var_t168 = (((-var_t165) * var_t60) * var_t61) + var_membrane__V; // dimensionless
        const double var_t171 = exp((var_t168 * var_membrane__F) * var_t128); // dimensionless
        const double var_t173 = var_L_type_Ca_channel__gamma_Nao * var_ionic_concentrations__Nao; // dimensionless
        const double var_t174 = (var_t160 * var_t171) - var_t173; // dimensionless
        const double var_t176 = var_t171 - 1.0; // dimensionless
        const double var_t177 = 1.0 / var_t176; // dimensionless
        const double var_t178 = pow(var_non_specific_calcium_activated_current__K_m_ns_Ca, 2.0); // dimensionless
        const double var_t179 = var_t178 * var_non_specific_calcium_activated_current__K_m_ns_Ca; // dimensionless
        const double var_t183 = 1.0 + ((var_t179 / var_t109) / var_ionic_concentrations__Cai); // dimensionless
        const double var_t184 = 1.0 / var_t183; // dimensionless
        const double var_t185 = var_t177 * var_t184; // dimensionless
        const double var_t187 = ((var_t159 * var_t14) * var_t174) * var_t185; // dimensionless
        const double var_t188 = var_L_type_Ca_channel__gamma_Ki * var_ionic_concentrations__Ki; // dimensionless
        const double var_t190 = var_L_type_Ca_channel__gamma_Ko * var_ionic_concentrations__Ko; // dimensionless
        const double var_t191 = (var_t171 * var_t188) - var_t190; // dimensionless
        const double var_t194 = ((var_t159 * var_t14) * var_t191) * var_t185; // dimensionless
        const double var_t195 = var_t114 * var_L_type_Ca_channel__P_Ca; // dimensionless
        const double var_t197 = var_t117 * var_t12; // dimensionless
        const double var_t201 = ((var_t150 * var_ionic_concentrations__Cai) * var_L_type_Ca_channel__gamma_Cai) - (var_ionic_concentrations__Cao * var_L_type_Ca_channel__gamma_Cao); // dimensionless
        const double var_t204 = ((var_t197 * var_t14) * var_t201) * var_t153; // dimensionless
        const double var_t206 = ((4.0 * var_t108) * var_t195) * var_t204; // dimensionless
        const double var_t207 = (((((((((((((-var_t41) - var_t46) - var_t57) - var_t94) - var_t105) - var_t107) - var_sodium_background_current__g_Nab) - var_calcium_background_current__g_Cab) - var_t136) - var_t144) - var_t157) - var_t187) - var_t194) - var_t206; // dimensionless
        const double var_t208 = var_t114 * var_L_type_Ca_channel__P_K; // dimensionless
        const double var_t211 = (var_t130 * var_t188) - var_t190; // dimensionless
        const double var_t214 = ((var_t197 * var_t14) * var_t211) * var_t133; // dimensionless
        const double var_t215 = (var_t108 * var_t208) * var_t214; // dimensionless
        const double var_t216 = var_t114 * var_L_type_Ca_channel__P_Na; // dimensionless
        const double var_t219 = (var_t130 * var_t160) - var_t173; // dimensionless
        const double var_t222 = ((var_t197 * var_t14) * var_t219) * var_t133; // dimensionless
        const double var_t223 = (var_t108 * var_t216) * var_t222; // dimensionless
        const double var_t224 = var_non_specific_calcium_activated_current__P_ns_Ca * var_t168; // dimensionless
        const double var_t225 = var_t118 * var_t122; // dimensionless
        const double var_t226 = var_t224 * var_t225; // dimensionless
        const double var_t228 = pow(var_t176, 2.0); // dimensionless
        const double var_t229 = 1.0 / var_t228; // dimensionless
        const double var_t231 = (var_t229 * var_t184) * var_t171; // dimensionless
        const double var_t233 = ((var_t226 * var_t124) * var_t174) * var_t231; // dimensionless
        const double var_t236 = ((var_t226 * var_t124) * var_t191) * var_t231; // dimensionless
        const double var_t238 = (var_t108 * var_t208) * var_membrane__V; // dimensionless
        const double var_t239 = var_t225 * var_t124; // dimensionless
        const double var_t240 = pow(var_t132, 2.0); // dimensionless
        const double var_t241 = 1.0 / var_t240; // dimensionless
        const double var_t245 = (((var_t238 * var_t239) * var_t211) * var_t241) * var_t130; // dimensionless
        const double var_t247 = (var_t108 * var_t216) * var_membrane__V; // dimensionless
        const double var_t251 = (((var_t247 * var_t239) * var_t219) * var_t241) * var_t130; // dimensionless
        const double var_t253 = (var_t108 * var_t195) * var_membrane__V; // dimensionless
        const double var_t254 = pow(var_t152, 2.0); // dimensionless
        const double var_t260 = ((((8.0 * var_t253) * var_t239) * var_t201) / var_t254) * var_t150; // dimensionless
        const double var_t261 = pow(var_t19, 2.0); // dimensionless
        const double var_t275 = (((((((var_t7 * var_t9) / var_t261) * ((((-var_t17) * var_t4) * var_ionic_concentrations__Cai) + ((var_t26 * var_t29) * var_ionic_concentrations__Cao))) * var_Na_Ca_exchanger__K_sat) * var_t10) * var_membrane__F) * var_t128) * var_t17; // dimensionless
        const double var_t276 = var_t224 * var_t239; // dimensionless
        const double var_t278 = (var_t171 * var_t177) * var_t184; // dimensionless
        const double var_t280 = (var_t276 * var_t160) * var_t278; // dimensionless
        const double var_t282 = (var_t276 * var_t188) * var_t278; // dimensionless
        const double var_t283 = pow(var_t70, 2.0); // dimensionless
        const double var_t284 = 1.0 / var_t283; // dimensionless
        const double var_t289 = ((((0.10468673990000001 * var_t58) * var_t284) * var_t91) * var_t102) * var_t69; // dimensionless
        const double var_t291 = exp((-0.10000000000000001) * var_t129); // dimensionless
        const double var_t294 = exp(0.01485884101 * var_ionic_concentrations__Nao); // dimensionless
        const double var_t295 = var_t294 - 1.0; // dimensionless
        const double var_t296 = exp(-var_t129); // dimensionless
        const double var_t299 = (1.0 + (0.1245 * var_t291)) + ((0.0052142857139999997 * var_t295) * var_t296); // dimensionless
        const double var_t300 = pow(var_t299, 2.0); // dimensionless
        const double var_t303 = 1.0 / var_ionic_concentrations__Nai; // dimensionless
        const double var_t304 = var_sodium_potassium_pump__K_mNai * var_t303; // dimensionless
        const double var_t305 = pow(var_t304, 1.5); // dimensionless
        const double var_t306 = 1.0 + var_t305; // dimensionless
        const double var_t310 = 1.0 / (var_ionic_concentrations__Ko + var_sodium_potassium_pump__K_mKo); // dimensionless
        const double var_t321 = ((((var_sodium_potassium_pump__I_NaK / var_t300) / var_t306) * var_ionic_concentrations__Ko) * var_t310) * (((((-0.012449999999999999) * var_t13) * var_t14) * var_t291) - ((((0.0052142857139999997 * var_t295) * var_membrane__F) * var_t128) * var_t296)); // dimensionless
        const double var_t323 = pow(var_t53, 2.0); // dimensionless
        const double var_t329 = 1.0 / ((var_ionic_concentrations__Nai * var_time_dependent_potassium_current__PR_NaK) + var_ionic_concentrations__Ki); // dimensionless
        const double var_t331 = log(((var_ionic_concentrations__Nao * var_time_dependent_potassium_current__PR_NaK) + var_ionic_concentrations__Ko) * var_t329); // dimensionless
        const double var_t334 = (((-var_t331) * var_t60) * var_t61) + var_membrane__V; // dimensionless
        const double var_t338 = ((((0.0134059652 * var_t48) * var_t49) / var_t323) * var_t334) * var_t52; // dimensionless
        const double var_t339 = var_t58 * var_t71; // dimensionless
        const double var_t340 = pow(var_t90, 2.0); // dimensionless
        const double var_t342 = (1.0 / var_t340) * var_t102; // dimensionless
        const double var_t349 = pow(var_t87, 2.0); // dimensionless
        const double var_t351 = var_t82 / var_t349; // dimensionless
        const double var_t357 = ((0.43893811259999999 * var_t339) * var_t342) * (((((-0.24326999999999999) * var_t284) * var_t69) + (((0.039456396800000001 * var_t76) + (0.061749999999999999 * var_t81)) * var_t88)) + ((0.51429999999999998 * var_t351) * var_t86)); // dimensionless
        const double var_t358 = (((((((((((((-var_t215) - var_t223) + var_t233) + var_t236) + var_t245) + var_t251) + var_t260) + var_t275) - var_t280) - var_t282) + var_t289) + var_t321) + var_t338) + var_t357; // dimensionless
        const double var_t360 = 1.0 / var_membrane__Cm; // dimensionless
        const double var_t362 = var_fast_sodium_current__g_Na * var_t42; // dimensionless
        const double var_t365 = log(var_ionic_concentrations__Nao * var_t303); // dimensionless
        const double var_t368 = (((-var_t365) * var_t60) * var_t61) + var_membrane__V; // dimensionless
        const double var_t370 = (var_fast_sodium_current_j_gate__j * var_t368) * var_t360; // dimensionless
        const double var_t377 = var_L_type_Ca_channel_f_gate__f * var_t114; // dimensionless
        const double var_t387 = var_L_type_Ca_channel_d_gate__d * var_t114; // dimensionless
        const double var_t404 = ((var_t46 * var_t60) * var_t61) * var_t303; // dimensionless
        const double var_t405 = var_t197 * var_t14; // dimensionless
        const double var_t409 = (((var_t247 * var_t405) * var_L_type_Ca_channel__gamma_Nai) * var_t130) * var_t133; // dimensionless
        const double var_t410 = var_t61 * var_t329; // dimensionless
        const double var_t414 = (((0.43033148290000001 * var_t56) * var_t60) * var_t410) * var_time_dependent_potassium_current__PR_NaK; // dimensionless
        const double var_t415 = var_t7 * var_t9; // dimensionless
        const double var_t417 = var_t28 * var_ionic_concentrations__Cao; // dimensionless
        const double var_t419 = ((var_t415 * var_t20) * var_t26) * var_t417; // dimensionless
        const double var_t422 = var_membrane__T * var_t61; // dimensionless
        const double var_t424 = ((var_sodium_background_current__g_Nab * var_membrane__R) * var_t422) * var_t303; // dimensionless
        const double var_t427 = pow(var_t306, 2.0); // dimensionless
        const double var_t431 = pow(var_t304, 0.5); // dimensionless
        const double var_t436 = ((((((var_sodium_potassium_pump__I_NaK / var_t299) / var_t427) * var_ionic_concentrations__Ko) * var_t310) * var_t431) * var_sodium_potassium_pump__K_mNai) / var_t28; // dimensionless
        const double var_t439 = (var_non_specific_calcium_activated_current__P_ns_Ca * var_membrane__F) * var_t163; // dimensionless
        const double var_t440 = var_t174 * var_t177; // dimensionless
        const double var_t442 = (var_t439 * var_t440) * var_t184; // dimensionless
        const double var_t443 = var_t224 * var_t197; // dimensionless
        const double var_t445 = var_t163 * var_t171; // dimensionless
        const double var_t450 = ((var_t443 * var_t14) * ((var_t160 * var_t445) + (var_t171 * var_L_type_Ca_channel__gamma_Nai))) * var_t185; // dimensionless
        const double var_t451 = var_t224 * var_t405; // dimensionless
        const double var_t454 = (var_t184 * var_t163) * var_t171; // dimensionless
        const double var_t456 = ((var_t451 * var_t174) * var_t229) * var_t454; // dimensionless
        const double var_t457 = var_t191 * var_t177; // dimensionless
        const double var_t459 = (var_t439 * var_t457) * var_t184; // dimensionless
        const double var_t462 = ((var_t451 * var_t188) * var_t163) * var_t278; // dimensionless
        const double var_t465 = ((var_t451 * var_t191) * var_t229) * var_t454; // dimensionless
        const double var_t466 = (((((((((((-var_t404) - var_t409) - var_t414) - (3.0 * var_t419)) - var_t424) - (1.5 * var_t436)) - var_t442) - var_t450) + var_t456) - var_t459) - var_t462) + var_t465; // dimensionless
        const double var_t468 = pow(var_t113, 2.0); // dimensionless
        const double var_t470 = var_t108 / var_t468; // dimensionless
        const double var_t473 = var_t128 * var_t201; // dimensionless
        const double var_t478 = ((((((8.0 * var_t470) * var_t145) * var_t117) * var_t473) * var_t153) * var_ionic_concentrations__Cai) * var_t111; // dimensionless
        const double var_t483 = ((((4.0 * var_t253) * var_t405) * var_L_type_Ca_channel__gamma_Cai) * var_t150) * var_t153; // dimensionless
        const double var_t486 = var_t128 * var_t211; // dimensionless
        const double var_t488 = (var_t133 * var_ionic_concentrations__Cai) * var_t111; // dimensionless
        const double var_t491 = ((((2.0 * var_t470) * var_t116) * var_t117) * var_t486) * var_t488; // dimensionless
        const double var_t494 = var_t128 * var_t219; // dimensionless
        const double var_t497 = ((((2.0 * var_t470) * var_t137) * var_t117) * var_t494) * var_t488; // dimensionless
        const double var_t500 = ((var_t415 * var_t20) * var_t17) * var_t4; // dimensionless
        const double var_t501 = var_sarcolemmal_calcium_pump__K_mpCa + var_ionic_concentrations__Cai; // dimensionless
        const double var_t503 = var_sarcolemmal_calcium_pump__I_pCa / var_t501; // dimensionless
        const double var_t505 = pow(var_t501, 2.0); // dimensionless
        const double var_t507 = (var_sarcolemmal_calcium_pump__I_pCa * var_ionic_concentrations__Cai) / var_t505; // dimensionless
        const double var_t512 = ((((1.0 / 2.0) * var_calcium_background_current__g_Cab) * var_membrane__R) * var_t422) / var_ionic_concentrations__Cai; // dimensionless
        const double var_t513 = pow(var_t183, 2.0); // dimensionless
        const double var_t516 = pow(var_t109, 2.0); // dimensionless
        const double var_t518 = ((1.0 / var_t513) * var_t179) / var_t516; // dimensionless
        const double var_t521 = ((3.0 * var_t451) * var_t440) * var_t518; // dimensionless
        const double var_t524 = ((3.0 * var_t451) * var_t457) * var_t518; // dimensionless
        const double var_t530 = (((var_t238 * var_t405) * var_L_type_Ca_channel__gamma_Ki) * var_t130) * var_t133; // dimensionless
        const double var_t533 = ((0.43033148290000001 * var_t56) * var_t60) * var_t410; // dimensionless
        const double var_t537 = var_t61 * var_t62; // dimensionless
        const double var_t538 = var_t537 * var_t69; // dimensionless
        const double var_t541 = (((((0.10468673990000001 * var_t58) * var_t284) * var_t91) * var_t102) * var_t60) * var_t538; // dimensionless
        const double var_t562 = ((0.43893811259999999 * var_t339) * var_t342) * (((((((-0.24326999999999999) * var_t284) * var_membrane__R) * var_membrane__T) * var_t538) + (((((0.039456396800000001 * var_t60) * var_t537) * var_t76) + (((0.061749999999999999 * var_t60) * var_t537) * var_t81)) * var_t88)) + (((((0.51429999999999998 * var_t351) * var_membrane__R) * var_t422) * var_t62) * var_t86)); // dimensionless
        const double var_t565 = ((0.43893811259999999 * var_t93) * var_t60) * var_t537; // dimensionless
        const double var_t568 = ((var_t107 * var_membrane__R) * var_t422) * var_t62; // dimensionless
        const double var_t571 = ((var_t451 * var_t160) * var_t163) * var_t278; // dimensionless
        const double var_t577 = ((var_t443 * var_t14) * ((var_t171 * var_L_type_Ca_channel__gamma_Ki) + (var_t188 * var_t445))) * var_t185; // dimensionless
        const double var_t578 = (((((((((((-var_t530) - var_t533) + var_t541) + var_t562) - var_t565) - var_t568) - var_t442) - var_t571) + var_t456) - var_t459) - var_t577) + var_t465; // dimensionless
        const double var_t580 = 0.10000000000000001 * var_membrane__V; // dimensionless
        const double var_t582 = exp((-var_t580) - 4.7130000000000001); // dimensionless
        const double var_t583 = 1.0 - var_t582; // dimensionless
        const double var_t584 = 1.0 / var_t583; // dimensionless
        const double var_t585 = 1.0 - var_fast_sodium_current_m_gate__m; // dimensionless
        const double var_t588 = var_membrane__V + 47.130000000000003; // dimensionless
        const double var_t589 = pow(var_t583, 2.0); // dimensionless
        const double var_t596 = exp(((-1.0) / 11.0) * var_membrane__V); // dimensionless
        const double var_t604 = var_membrane__V < (-40.0); // dimensionless
        const double var_t607 = exp((-11.764705879999999) - (0.14705882349999999 * var_membrane__V)); // dimensionless
        const double var_t610 = (-40.0) < var_membrane__V; // dimensionless
        const double var_t611 = var_t604 ? ((-0.01985294118) * var_t607) : ((-40.0) <= var_membrane__V) ? 0.0 : NAN; // dimensionless
        const double var_t615 = exp(0.079000000000000001 * var_membrane__V); // dimensionless
        const double var_t618 = exp(0.34999999999999998 * var_membrane__V); // dimensionless
        const double var_t623 = exp(((-0.090090090090000005) * var_membrane__V) - 0.96036036039999995); // dimensionless
        const double var_t626 = pow(0.13 + (0.13 * var_t623), 2.0); // dimensionless
        const double var_t630 = (var_membrane__V <= (-40.0)) ? ((0.28123999999999999 * var_t615) + (108500.0 * var_t618)) : var_t610 ? ((0.011711711709999999 / var_t626) * var_t623) : NAN; // dimensionless
        const double var_t633 = var_membrane__V < (-40.0); // dimensionless
        const double var_t635 = var_t633 ? (0.13500000000000001 * var_t607) : 0.0; // dimensionless
        const double var_t637 = exp(0.079000000000000001 * var_membrane__V); // dimensionless
        const double var_t640 = exp(0.34999999999999998 * var_membrane__V); // dimensionless
        const double var_t646 = var_t633 ? ((3.5600000000000001 * var_t637) + (310000.0 * var_t640)) : (1.0 / (0.13 + (0.13 * var_t623))); // dimensionless
        const double var_t649 = exp(0.24440000000000001 * var_membrane__V); // dimensionless
        const double var_t652 = exp((-0.043909999999999998) * var_membrane__V); // dimensionless
        const double var_t655 = var_membrane__V + 37.780000000000001; // dimensionless
        const double var_t659 = exp((0.311 * var_membrane__V) + 24.640530009999999); // dimensionless
        const double var_t660 = 1.0 + var_t659; // dimensionless
        const double var_t661 = 1.0 / var_t660; // dimensionless
        const double var_t664 = 3.4740000000000003e-05 * var_t652; // dimensionless
        const double var_t665 = ((-127140.0) * var_t649) - var_t664; // dimensionless
        const double var_t668 = pow(var_t660, 2.0); // dimensionless
        const double var_t674 = var_t604 ? (((((((-31073.016) * var_t649) + (1.5254334000000001e-06 * var_t652)) * var_t655) * var_t661) + (var_t665 * var_t661)) - ((((0.311 * var_t665) * var_t655) / var_t668) * var_t659)) : ((-40.0) <= var_membrane__V) ? 0.0 : NAN; // dimensionless
        const double var_t678 = exp((-0.01052) * var_membrane__V); // dimensionless
        const double var_t679 = 0.13780000000000001 * var_membrane__V; // dimensionless
        const double var_t681 = exp((-var_t679) - 5.5312919950000001); // dimensionless
        const double var_t682 = 1.0 + var_t681; // dimensionless
        const double var_t686 = pow(var_t682, 2.0); // dimensionless
        const double var_t693 = exp((-2.5349999990000002e-07) * var_membrane__V); // dimensionless
        const double var_t695 = exp((-var_t580) - 3.2000000000000002); // dimensionless
        const double var_t696 = 1.0 + var_t695; // dimensionless
        const double var_t700 = pow(var_t696, 2.0); // dimensionless
        const double var_t706 = (var_membrane__V <= (-40.0)) ? ((((-0.001275024) * var_t678) / var_t682) + (((0.016701359999999998 * var_t678) / var_t686) * var_t681)) : var_t610 ? ((((-7.604999998e-08) * var_t693) / var_t696) + (((0.029999999999999999 * var_t693) / var_t700) * var_t695)) : NAN; // dimensionless
        const double var_t710 = exp(0.24440000000000001 * var_membrane__V); // dimensionless
        const double var_t717 = exp((0.311 * var_membrane__V) + 24.640529999999998); // dimensionless
        const double var_t721 = var_t633 ? (((((-127140.0) * var_t710) - var_t664) * (var_membrane__V + 37.780000000000001)) / (1.0 + var_t717)) : 0.0; // dimensionless
        const double var_t723 = exp((-0.01052) * var_membrane__V); // dimensionless
        const double var_t725 = exp((-var_t679) - 5.5312919999999997); // dimensionless
        const double var_t731 = exp((-2.5349999999999999e-07) * var_membrane__V); // dimensionless
        const double var_t736 = var_t633 ? ((0.1212 * var_t723) / (1.0 + var_t725)) : ((0.29999999999999999 * var_t731) / (1.0 + var_t695)); // dimensionless
        const double var_t740 = exp(((-0.16025641030000001) * var_membrane__V) - 1.602564103); // dimensionless
        const double var_t741 = 1.0 - var_t740; // dimensionless
        const double var_t742 = pow(var_t741, 2.0); // dimensionless
        const double var_t743 = 1.0 / var_t742; // dimensionless
        const double var_t745 = (0.035000000000000003 * var_membrane__V) + 0.34999999999999998; // dimensionless
        const double var_t747 = 1.0 - var_L_type_Ca_channel_d_gate__d; // dimensionless
        const double var_t751 = 1.0 / var_t741; // dimensionless
        const double var_t754 = 1.0 + var_t740; // dimensionless
        const double var_t755 = 1.0 / var_t754; // dimensionless
        const double var_t757 = var_t751 * var_t745; // dimensionless
        const double var_t758 = var_t757 * var_L_type_Ca_channel_d_gate__d; // dimensionless
        const double var_t761 = 1.0 - var_t755; // dimensionless
        const double var_t765 = var_t761 * var_t754; // dimensionless
        const double var_t779 = exp((0.1162790698 * var_membrane__V) + 4.0767441870000001); // dimensionless
        const double var_t780 = 1.0 + var_t779; // dimensionless
        const double var_t781 = pow(var_t780, 2.0); // dimensionless
        const double var_t787 = exp((5.0 / 2.0) - ((1.0 / 20.0) * var_membrane__V)); // dimensionless
        const double var_t788 = 1.0 + var_t787; // dimensionless
        const double var_t789 = pow(var_t788, 2.0); // dimensionless
        const double var_t793 = (((-0.1162790698) / var_t781) * var_t779) + ((0.029999999999999999 / var_t789) * var_t787); // dimensionless
        const double var_t796 = pow((0.033700000000000001 * var_membrane__V) + 0.33700000000000002, 2.0); // dimensionless
        const double var_t797 = exp(-var_t796); // dimensionless
        const double var_t799 = (0.019699999999999999 * var_t797) + 0.02; // dimensionless
        const double var_t801 = 1.0 - var_L_type_Ca_channel_f_gate__f; // dimensionless
        const double var_t803 = 1.0 / var_t780; // dimensionless
        const double var_t804 = 1.0 / var_t788; // dimensionless
        const double var_t806 = var_t803 + (0.59999999999999998 * var_t804); // dimensionless
        const double var_t808 = ((-0.0022713799999999999) * var_membrane__V) - 0.022713799999999999; // dimensionless
        const double var_t816 = (1.0 - var_t803) - (0.59999999999999998 * var_t804); // dimensionless
        const double var_t827 = exp(((-0.14799999999999999) * var_membrane__V) - 4.4400000000000004); // dimensionless
        const double var_t828 = 1.0 - var_t827; // dimensionless
        const double var_t829 = 1.0 / var_t828; // dimensionless
        const double var_t830 = 1.0 - var_time_dependent_potassium_current_X_gate__X; // dimensionless
        const double var_t833 = var_membrane__V + 30.0; // dimensionless
        const double var_t834 = pow(var_t828, 2.0); // dimensionless
        const double var_t842 = exp((0.068699999999999997 * var_membrane__V) + 2.0609999999999999); // dimensionless
        const double var_t843 = (-1.0) + var_t842; // dimensionless
        const double var_t844 = 1.0 / var_t843; // dimensionless
        const double var_t847 = pow(var_t843, 2.0); // dimensionless
        const double var_t862 = ((((((((((-var_t46) - var_t223) - var_t144) + var_t251) - var_sodium_background_current__g_Nab) - var_t187) - var_t280) + var_t233) + (3.0 * var_t275)) - (3.0 * var_t41)) + (3.0 * var_t321); // dimensionless
        const double var_t864 = 1.0 / var_ionic_concentrations__V_myo; // dimensionless
        const double var_t865 = var_t864 * var_t61; // dimensionless
        const double var_t869 = (var_t368 * var_ionic_concentrations__Am) * var_t865; // dimensionless
        const double var_t876 = var_t137 * var_membrane__F; // dimensionless
        const double var_t879 = (var_t133 * var_ionic_concentrations__Am) * var_t864; // dimensionless
        const double var_t880 = var_t494 * var_t879; // dimensionless
        const double var_t900 = var_t145 * var_membrane__F; // dimensionless
        const double var_t904 = ((var_t473 * var_t153) * var_ionic_concentrations__Am) * var_t864; // dimensionless
        const double var_t922 = (var_calcium_fluxes_in_the_SR__delta_Ca_i2 < var_calcium_fluxes_in_the_SR__delta_Ca_ith) ? 0.0 : var_calcium_fluxes_in_the_SR__G_rel_max; // dimensionless
        const double var_t924 = var_t922 * ((-var_calcium_fluxes_in_the_SR__delta_Ca_ith) + var_calcium_fluxes_in_the_SR__delta_Ca_i2); // dimensionless
        const double var_t926 = 1.0 / ((var_calcium_fluxes_in_the_SR__K_mrel + var_calcium_fluxes_in_the_SR__delta_Ca_i2) - var_calcium_fluxes_in_the_SR__delta_Ca_ith); // dimensionless
        const double var_t930 = exp((-var_calcium_fluxes_in_the_SR__t_CICR) / var_calcium_fluxes_in_the_SR__tau_on); // dimensionless
        const double var_t931 = 1.0 - var_t930; // dimensionless
        const double var_t934 = exp((-var_calcium_fluxes_in_the_SR__t_CICR) / var_calcium_fluxes_in_the_SR__tau_off); // dimensionless
        const double var_t938 = ((((var_t924 * var_t926) * var_t931) * var_t934) * var_ionic_concentrations__V_JSR) * var_t864; // dimensionless
        const double var_t939 = var_ionic_concentrations__Cai + var_calcium_fluxes_in_the_SR__K_mup; // dimensionless
        const double var_t943 = pow(var_t939, 2.0); // dimensionless
        const double var_t946 = ((-var_calcium_fluxes_in_the_SR__I_up) / var_t939) + ((var_calcium_fluxes_in_the_SR__I_up * var_ionic_concentrations__Cai) / var_t943); // dimensionless
        const double var_t951 = var_calcium_fluxes_in_the_SR__I_up / var_calcium_fluxes_in_the_SR__Ca_NSR_max; // dimensionless
        const double var_t955 = (((((((((((((-var_t215) - var_t136) + var_t245) + var_t338) - var_t57) + var_t289) + var_t357) - var_t94) - var_t105) - var_t107) - var_t194) - var_t282) + var_t236) - (2.0 * var_t321); // dimensionless
        const double var_t958 = var_t116 * var_membrane__F; // dimensionless
        const double var_t960 = var_t486 * var_t879; // dimensionless
        const double var_t982 = ((var_t924 * var_t926) * var_t931) * var_t934; // dimensionless
        const double var_t983 = 1.0 / var_calcium_fluxes_in_the_SR__tau_tr; // dimensionless
        const double var_t986 = (var_t983 * var_ionic_concentrations__V_NSR) / var_ionic_concentrations__V_JSR; // dimensionless
        
        // Matrix entries
        IJth(rJacobian, 0, 0) = var_chaste_interface__environment__fake_dt * (mSetVoltageDerivativeToZero ? 0.0 : ((var_t207 + var_t358) * var_t360));
        IJth(rJacobian, 1, 0) = var_chaste_interface__environment__fake_dt * ((((1.0 / 2.0) * ((((((-var_t206) - var_t157) + var_t260) - var_calcium_background_current__g_Cab) - var_t275) + var_t41)) * var_ionic_concentrations__Am) * var_t865);
        IJth(rJacobian, 2, 0) = var_chaste_interface__environment__fake_dt * ((((0.32000000000000001 * var_t584) * var_t585) - ((((0.032000000000000001 * var_t588) / var_t589) * var_t585) * var_t582)) + ((0.0072727272729999999 * var_t596) * var_fast_sodium_current_m_gate__m));
        IJth(rJacobian, 3, 0) = var_chaste_interface__environment__fake_dt * ((var_t611 * (1.0 - var_fast_sodium_current_h_gate__h)) - (var_t630 * var_fast_sodium_current_h_gate__h));
        IJth(rJacobian, 4, 0) = var_chaste_interface__environment__fake_dt * ((var_t674 * (1.0 - var_fast_sodium_current_j_gate__j)) - (var_t706 * var_fast_sodium_current_j_gate__j));
        IJth(rJacobian, 5, 0) = var_chaste_interface__environment__fake_dt * ((((((((((-0.16025641030000001) * var_t743) * var_t745) * var_t747) * var_t740) + ((0.035000000000000003 * var_t751) * var_t747)) + (((0.16025641030000001 * var_t755) * var_t740) * var_t758)) + (((0.16025641030000001 * var_t761) * var_t740) * var_t758)) + (((((0.16025641030000001 * var_t765) * var_t743) * var_t745) * var_L_type_Ca_channel_d_gate__d) * var_t740)) - (((0.035000000000000003 * var_t765) * var_t751) * var_L_type_Ca_channel_d_gate__d));
        IJth(rJacobian, 6, 0) = var_chaste_interface__environment__fake_dt * (((((var_t793 * var_t799) * var_t801) + ((((0.019699999999999999 * var_t806) * var_t808) * var_t797) * var_t801)) + ((var_t793 * var_t799) * var_L_type_Ca_channel_f_gate__f)) - ((((0.019699999999999999 * var_t816) * var_t808) * var_t797) * var_L_type_Ca_channel_f_gate__f));
        IJth(rJacobian, 7, 0) = var_chaste_interface__environment__fake_dt * (((((7.1899999999999999e-05 * var_t829) * var_t830) - ((((1.0641200000000001e-05 * var_t833) / var_t834) * var_t830) * var_t827)) - ((0.00013100000000000001 * var_t844) * var_time_dependent_potassium_current_X_gate__X)) + ((((8.9996999999999996e-06 * var_t833) / var_t847) * var_time_dependent_potassium_current_X_gate__X) * var_t842));
        IJth(rJacobian, 8, 0) = var_chaste_interface__environment__fake_dt * ((var_t862 * var_ionic_concentrations__Am) * var_t865);
        IJth(rJacobian, 9, 0) = var_chaste_interface__environment__fake_dt * ((var_t955 * var_ionic_concentrations__Am) * var_t865);
        IJth(rJacobian, 0, 1) = var_chaste_interface__environment__fake_dt * (mSetVoltageDerivativeToZero ? 0.0 : ((((((((((var_t478 - var_t483) + var_t491) + var_t497) + var_t500) - var_t503) + var_t507) - var_t512) - var_t521) - var_t524) * var_t360));
        IJth(rJacobian, 1, 1) = var_chaste_interface__environment__fake_dt * ((((((1.0 / 2.0) * (((((var_t478 - var_t483) - var_t503) + var_t507) - var_t512) - var_t500)) * var_ionic_concentrations__Am) * var_t865) - var_t938) + ((var_t946 * var_ionic_concentrations__V_NSR) * var_t864));
        IJth(rJacobian, 8, 1) = var_chaste_interface__environment__fake_dt * ((((var_t497 - var_t521) + (3.0 * var_t500)) * var_ionic_concentrations__Am) * var_t865);
        IJth(rJacobian, 9, 1) = var_chaste_interface__environment__fake_dt * (((var_t491 - var_t524) * var_ionic_concentrations__Am) * var_t865);
        IJth(rJacobian, 10, 1) = var_chaste_interface__environment__fake_dt * (var_t982);
        IJth(rJacobian, 11, 1) = var_chaste_interface__environment__fake_dt * (-var_t946);
        IJth(rJacobian, 0, 2) = var_chaste_interface__environment__fake_dt * (mSetVoltageDerivativeToZero ? 0.0 : ((((-3.0) * var_t362) * var_fast_sodium_current_h_gate__h) * var_t370));
        IJth(rJacobian, 2, 2) = var_chaste_interface__environment__fake_dt * ((((-0.32000000000000001) * var_t588) * var_t584) - (0.080000000000000002 * var_t596));
        IJth(rJacobian, 8, 2) = var_chaste_interface__environment__fake_dt * ((((-3.0) * var_t362) * var_t45) * var_t869);
        IJth(rJacobian, 0, 3) = var_chaste_interface__environment__fake_dt * (mSetVoltageDerivativeToZero ? 0.0 : ((-var_t44) * var_t370));
        IJth(rJacobian, 3, 3) = var_chaste_interface__environment__fake_dt * ((-var_t635) - var_t646);
        IJth(rJacobian, 8, 3) = var_chaste_interface__environment__fake_dt * (((-var_t44) * var_fast_sodium_current_j_gate__j) * var_t869);
        IJth(rJacobian, 0, 4) = var_chaste_interface__environment__fake_dt * (mSetVoltageDerivativeToZero ? 0.0 : ((((-var_t44) * var_fast_sodium_current_h_gate__h) * var_t368) * var_t360));
        IJth(rJacobian, 4, 4) = var_chaste_interface__environment__fake_dt * ((-var_t721) - var_t736);
        IJth(rJacobian, 8, 4) = var_chaste_interface__environment__fake_dt * (((-var_t44) * var_fast_sodium_current_h_gate__h) * var_t869);
        IJth(rJacobian, 0, 5) = var_chaste_interface__environment__fake_dt * (mSetVoltageDerivativeToZero ? 0.0 : ((((((-var_t116) * var_t214) * var_t377) - ((var_t137 * var_t222) * var_t377)) - (((4.0 * var_t145) * var_t204) * var_t377)) * var_t360));
        IJth(rJacobian, 1, 5) = var_chaste_interface__environment__fake_dt * ((((-2.0) * var_t377) * var_t900) * var_t904);
        IJth(rJacobian, 5, 5) = var_chaste_interface__environment__fake_dt * (((-var_t757) * var_t765) - var_t757);
        IJth(rJacobian, 8, 5) = var_chaste_interface__environment__fake_dt * (((-var_t377) * var_t876) * var_t880);
        IJth(rJacobian, 9, 5) = var_chaste_interface__environment__fake_dt * (((-var_t377) * var_t958) * var_t960);
        IJth(rJacobian, 0, 6) = var_chaste_interface__environment__fake_dt * (mSetVoltageDerivativeToZero ? 0.0 : ((((((-var_t116) * var_t214) * var_t387) - ((var_t137 * var_t222) * var_t387)) - (((4.0 * var_t145) * var_t204) * var_t387)) * var_t360));
        IJth(rJacobian, 1, 6) = var_chaste_interface__environment__fake_dt * ((((-2.0) * var_t387) * var_t900) * var_t904);
        IJth(rJacobian, 6, 6) = var_chaste_interface__environment__fake_dt * (((-var_t799) * var_t806) - (var_t799 * var_t816));
        IJth(rJacobian, 8, 6) = var_chaste_interface__environment__fake_dt * (((-var_t387) * var_t876) * var_t880);
        IJth(rJacobian, 9, 6) = var_chaste_interface__environment__fake_dt * (((-var_t387) * var_t958) * var_t960);
        IJth(rJacobian, 0, 7) = var_chaste_interface__environment__fake_dt * (mSetVoltageDerivativeToZero ? 0.0 : ((((((-0.86066296580000001) * var_t48) * var_time_dependent_potassium_current_X_gate__X) * var_t54) * var_t334) * var_t360));
        IJth(rJacobian, 7, 7) = var_chaste_interface__environment__fake_dt * ((((-7.1899999999999999e-05) * var_t833) * var_t829) - ((0.00013100000000000001 * var_t833) * var_t844));
        IJth(rJacobian, 9, 7) = var_chaste_interface__environment__fake_dt * (((((((-0.86066296580000001) * var_t48) * var_time_dependent_potassium_current_X_gate__X) * var_t54) * var_t334) * var_ionic_concentrations__Am) * var_t865);
        IJth(rJacobian, 0, 8) = var_chaste_interface__environment__fake_dt * (mSetVoltageDerivativeToZero ? 0.0 : (var_t466 * var_t360));
        IJth(rJacobian, 1, 8) = var_chaste_interface__environment__fake_dt * ((((((((3.0 / 2.0) * var_t7) * var_t21) * var_t26) * var_t417) * var_ionic_concentrations__Am) * var_t864) * var_t61);
        IJth(rJacobian, 8, 8) = var_chaste_interface__environment__fake_dt * ((((((((((-var_t404) - var_t409) - var_t424) - var_t442) - var_t450) + var_t456) - (9.0 * var_t419)) - (4.5 * var_t436)) * var_ionic_concentrations__Am) * var_t865);
        IJth(rJacobian, 9, 8) = var_chaste_interface__environment__fake_dt * (((((((-var_t414) - var_t459) - var_t462) + var_t465) + (3.0 * var_t436)) * var_ionic_concentrations__Am) * var_t865);
        IJth(rJacobian, 0, 9) = var_chaste_interface__environment__fake_dt * (mSetVoltageDerivativeToZero ? 0.0 : (var_t578 * var_t360));
        IJth(rJacobian, 8, 9) = var_chaste_interface__environment__fake_dt * (((((-var_t442) - var_t571) + var_t456) * var_ionic_concentrations__Am) * var_t865);
        IJth(rJacobian, 9, 9) = var_chaste_interface__environment__fake_dt * (((((((((((-var_t530) - var_t533) + var_t541) + var_t562) - var_t565) - var_t568) - var_t459) - var_t577) + var_t465) * var_ionic_concentrations__Am) * var_t865);
        IJth(rJacobian, 1, 10) = var_chaste_interface__environment__fake_dt * (var_t938);
        IJth(rJacobian, 10, 10) = var_chaste_interface__environment__fake_dt * ((-var_t982) - var_t986);
        IJth(rJacobian, 11, 10) = var_chaste_interface__environment__fake_dt * (var_t983);
        IJth(rJacobian, 1, 11) = var_chaste_interface__environment__fake_dt * ((var_t951 * var_ionic_concentrations__V_NSR) * var_t864);
        IJth(rJacobian, 10, 11) = var_chaste_interface__environment__fake_dt * (var_t986);
        IJth(rJacobian, 11, 11) = var_chaste_interface__environment__fake_dt * ((-var_t951) - var_t983);
    }
    
template<>
void OdeSystemInformation<Dynamicluo_rudy_1994FromCellMLCvode>::Initialise(void)
{
    this->mSystemName = "luo_rudy_1994";
    this->mFreeVariableName = "time";
    this->mFreeVariableUnits = "millisecond";
    
    // rY[0]:
    this->mVariableNames.push_back("membrane_voltage");
    this->mVariableUnits.push_back("millivolt");
    this->mInitialConditions.push_back(-84.624);

    // rY[1]:
    this->mVariableNames.push_back("cytosolic_calcium_concentration");
    this->mVariableUnits.push_back("millimolar");
    this->mInitialConditions.push_back(0.12e-3);

    // rY[2]:
    this->mVariableNames.push_back("fast_sodium_current_m_gate__m");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.0);

    // rY[3]:
    this->mVariableNames.push_back("fast_sodium_current_h_gate__h");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(1.0);

    // rY[4]:
    this->mVariableNames.push_back("fast_sodium_current_j_gate__j");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(1.0);

    // rY[5]:
    this->mVariableNames.push_back("L_type_Ca_channel_d_gate__d");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.0);

    // rY[6]:
    this->mVariableNames.push_back("L_type_Ca_channel_f_gate__f");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(1.0);

    // rY[7]:
    this->mVariableNames.push_back("time_dependent_potassium_current_X_gate__X");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.0);

    // rY[8]:
    this->mVariableNames.push_back("cytosolic_sodium_concentration");
    this->mVariableUnits.push_back("mM");
    this->mInitialConditions.push_back(10.0);

    // rY[9]:
    this->mVariableNames.push_back("cytosolic_potassium_concentration");
    this->mVariableUnits.push_back("mM");
    this->mInitialConditions.push_back(145.0);

    // rY[10]:
    this->mVariableNames.push_back("JSR_calcium_concentration");
    this->mVariableUnits.push_back("mM");
    this->mInitialConditions.push_back(1.8);

    // rY[11]:
    this->mVariableNames.push_back("NSR_calcium_concentration");
    this->mVariableUnits.push_back("mM");
    this->mInitialConditions.push_back(1.8);

    this->mInitialised = true;
}


// Serialization for Boost >= 1.36
#include "SerializationExportWrapperForCpp.hpp"
CHASTE_CLASS_EXPORT(Dynamicluo_rudy_1994FromCellMLCvode)

#endif // CHASTE_CVODE
